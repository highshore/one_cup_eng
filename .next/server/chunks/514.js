"use strict";exports.id=514,exports.ids=[514],exports.modules={3507:(e,t,i)=>{i.d(t,{Ee:()=>n,FQ:()=>s,pd:()=>l,z0:()=>d});var r=i(75535);let a=e=>{let t;return{date:(t=e&&"function"==typeof e.toDate?e.toDate():e&&e.seconds?new Date(1e3*e.seconds):"string"==typeof e?new Date(e):new Date).toISOString().split("T")[0],time:t.toTimeString().slice(0,5)}},n=e=>{let t,i,r,n,o,s,{date:l,time:c}=a(e.date_time);return void 0!==e.location_name&&void 0!==e.latitude&&void 0!==e.longitude?(t=e.location_name,i=e.location_address,r=e.location_map_url,n=e.latitude,o=e.longitude,s=e.location_extra_info):e.location&&Array.isArray(e.location)&&e.location.length>=5?(t=e.location[0],i=e.location[1],r=e.location[2],n="number"==typeof e.location[3]?e.location[3]:0,o="number"==typeof e.location[4]?e.location[4]:0,s=e.location[5]||""):(t="N/A",i="N/A",r="",n=0,o=0,s=""),{id:e.id,title:e.title,date:l,time:c,description:e.description,location_name:t,location_address:i,location_map_url:r,latitude:n,longitude:o,location_extra_info:s,duration_minutes:e.duration_minutes,lockdown_minutes:e.lockdown_minutes,max_participants:e.max_participants,participants:e.participants||[],leaders:e.leaders||[],image_urls:e.image_urls||[],topics:e.topics||[],articles:e.articles||[]}};r.Dc.fromDate(new Date("2024-02-07T17:00:00+09:00")),r.Dc.fromDate(new Date("2024-01-15T19:00:00+09:00")),r.Dc.fromDate(new Date("2024-01-20T14:00:00+09:00")),r.Dc.fromDate(new Date("2024-01-25T18:30:00+09:00"));let o=e=>{let t=new Date(`${e.date}T${e.time}`);return new Date>=t},s=e=>{if(o(e))return{isLocked:!0,reason:"started"};if(e.participants.length+e.leaders.length>=e.max_participants)return{isLocked:!0,reason:"full"};if(e.lockdown_minutes>0){let t=new Date(new Date(`${e.date}T${e.time}`).getTime()-60*e.lockdown_minutes*1e3);if(new Date>=t)return{isLocked:!0,reason:"lockdown"}}return{isLocked:!1,reason:null}},l=e=>{let t=new Date(`${e.date}T${e.time}`),i=t.getFullYear(),r=t.getMonth()+1,a=t.getDate(),n=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"][t.getDay()],o=t.getHours(),s=t.getMinutes().toString().padStart(2,"0");return`${i}년 ${r}월 ${a}일 (${n}) ${o}:${s}`},c=e=>{let t=new Date,i=new Date(e.date),r=new Date(t.toISOString().split("T")[0]);return Math.ceil((i.getTime()-r.getTime())/864e5)},d=e=>{let t=c(e),i="",r=!1;return t>0?(i=`[D-${t}] `,r=t<=3):0===t?(i="[D-DAY] ",r=!0):i="",{countdownPrefix:i,eventTitle:e.title,isUrgent:r,daysUntil:t}}},14089:(e,t,i)=>{i.d(t,{CT:()=>o,Cy:()=>l,EO:()=>c,O4:()=>s,ts:()=>n});var r=i(60687);i(43210);let a="20px",n=({className:e,fillColor:t,width:i,height:n})=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t||"currentColor",width:i||a,height:n||a,className:e,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),o=({className:e,fillColor:t,width:i,height:n})=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t||"currentColor",width:i||a,height:n||a,className:e,children:[(0,r.jsx)("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"})]}),s=({className:e,fillColor:t,width:i,height:n})=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t||"currentColor",width:i||a,height:n||a,className:e,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"})}),l=({className:e,fillColor:t,width:i,height:n})=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t||"currentColor",width:i||a,height:n||a,className:e,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 3.75a6.715 6.715 0 0 0-3.722 1.118.75.75 0 1 1-.828-1.25 8.25 8.25 0 0 1 12.8 6.883c0 3.014-.574 5.897-1.62 8.543a.75.75 0 0 1-1.395-.551A21.69 21.69 0 0 0 18.75 10.5 6.75 6.75 0 0 0 12 3.75ZM6.157 5.739a.75.75 0 0 1 .21 1.04A6.715 6.715 0 0 0 5.25 10.5c0 1.613-.463 3.12-1.265 4.393a.75.75 0 0 1-1.27-.8A6.715 6.715 0 0 0 3.75 10.5c0-1.68.503-3.246 1.367-4.55a.75.75 0 0 1 1.04-.211ZM12 7.5a3 3 0 0 0-3 3c0 3.1-1.176 5.927-3.105 8.056a.75.75 0 1 1-1.112-1.008A10.459 10.459 0 0 0 7.5 10.5a4.5 4.5 0 1 1 9 0c0 .547-.022 1.09-.067 1.626a.75.75 0 0 1-1.495-.123c.041-.495.062-.996.062-1.503a3 3 0 0 0-3-3Zm0 2.25a.75.75 0 0 1 .75.75c0 3.908-1.424 7.485-3.781 10.238a.75.75 0 0 1-1.14-.975A14.19 14.19 0 0 0 11.25 10.5a.75.75 0 0 1 .75-.75Zm3.239 5.183a.75.75 0 0 1 .515.927 19.417 19.417 0 0 1-2.585 5.544.75.75 0 0 1-1.243-.84 17.915 17.915 0 0 0 2.386-5.116.75.75 0 0 1 .927-.515Z",clipRule:"evenodd"})}),c=({className:e,fillColor:t,width:i,height:n})=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t||"currentColor",width:i||a,height:n||a,className:e,children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"})})},40507:(e,t,i)=>{i.d(t,{gD:()=>s,l2:()=>o});var r=i(75535),a=i(83503);let n=new Map,o=async e=>{if(n.has(e))return n.get(e)||null;try{let t=(0,r.H9)(a.db,"users",e),i=await (0,r.x7)(t);if(i.exists()){let t=i.data(),r=t.photoURL||t.avatar,a=r&&""!==r.trim()?r:void 0,o={uid:e,displayName:t.displayName||t.name||`User ${e.substring(0,6)}`,photoURL:a,email:t.email,account_status:t.account_status,hasActiveSubscription:!0===t.hasActiveSubscription};return n.set(e,o),o}{console.warn(`User document not found in Firestore for UID: ${e}. Using fallback.`);let t={uid:e,displayName:`User ${e.substring(0,6)}`,photoURL:void 0,account_status:void 0,hasActiveSubscription:!1};return n.set(e,t),t}}catch(i){console.error(`Error fetching user profile for ${e} from Firestore:`,i);let t={uid:e,displayName:`User ${e.substring(0,6)}`,photoURL:void 0,account_status:void 0,hasActiveSubscription:!1};return n.set(e,t),t}},s=async e=>{try{let t=(0,r.H9)(a.db,"users",e),i=await (0,r.x7)(t);if(!i.exists())return console.warn(`User document not found for UID: ${e}`),!1;{let e=i.data();return!0===e.hasActiveSubscription}}catch(t){return console.error(`Error checking subscription status for ${e}:`,t),!1}}},59798:(e,t,i)=>{i.d(t,{Gi:()=>p,Pu:()=>u,UZ:()=>l,eF:()=>c,ge:()=>d});var r=i(75535),a=i(83503),n=i(3507);let o="meetup",s=5,l=async(e,t=s)=>{try{let i=(0,r.rJ)(a.db,o),s=(0,r.P)(i,(0,r.My)("date_time","desc"),(0,r.AB)(t));e&&(s=(0,r.P)(i,(0,r.My)("date_time","desc"),(0,r.HM)(e),(0,r.AB)(t)));let l=await (0,r.GG)(s),c=[],d=null;return l.forEach(e=>{let t=e.data(),i={id:e.id,...t};c.push((0,n.Ee)(i)),d=e}),{events:c,lastDoc:d}}catch(e){throw console.error("Error fetching meetup events:",e),e}},c=async()=>{try{let e=r.Dc.now(),t=(0,r.rJ)(a.db,o),i=(0,r.P)(t,(0,r._M)("date_time",">=",e),(0,r.My)("date_time","asc")),s=await (0,r.GG)(i),l=[];return s.forEach(e=>{let t=e.data(),i={id:e.id,...t};l.push((0,n.Ee)(i))}),l}catch(e){throw console.error("Error fetching upcoming meetup events:",e),e}},d=(e,t)=>{try{let i=(0,r.H9)(a.db,o,e);return(0,r.aQ)(i,e=>{if(e.exists()){let i=e.data(),r={id:e.id,...i};t((0,n.Ee)(r))}else t(null)},i=>{console.error(`Error in real-time subscription for event ${e}:`,i),t(null)})}catch(t){return console.error(`Error setting up real-time subscription for event ${e}:`,t),()=>{}}},u=async(e,t,i)=>{let n=(0,r.H9)(a.db,o,e);try{await (0,r.c4)(a.db,async e=>{let a=await e.get(n);if(!a.exists())throw Error("Event does not exist!");let o=a.data(),s=o.participants?.includes(t),l=o.leaders?.includes(t);if("participant"===i&&s||"leader"===i&&l)return void console.log(`User ${t} already in the event as ${i}.`);let c=(o.participants?.length||0)+(o.leaders?.length||0);if("participant"===i&&c>=o.max_participants)throw Error("Event is already full for participants.");let d={};"participant"===i?(d.participants=(0,r.hq)(t),l&&(d.leaders=(0,r.C3)(t))):(d.leaders=(0,r.hq)(t),s&&(d.participants=(0,r.C3)(t))),e.update(n,d)}),console.log(`User ${t} successfully joined event ${e} as ${i}.`)}catch(e){throw console.error("Error joining event:",e),e}},p=async(e,t)=>{let i=(0,r.H9)(a.db,o,e);try{await (0,r.c4)(a.db,async a=>{let n=await a.get(i);if(!n.exists())throw Error("Event does not exist!");let o=n.data(),s=o.participants?.includes(t),l=o.leaders?.includes(t);if(!s&&!l)return void console.log(`User ${t} is not part of event ${e}.`);let c={};s&&(c.participants=(0,r.C3)(t)),l&&(c.leaders=(0,r.C3)(t)),a.update(i,c)}),console.log(`User ${t} successfully canceled participation for event ${e}.`)}catch(e){throw console.error("Error canceling participation:",e),e}}},91133:(e,t,i)=>{i.d(t,{H8:()=>u,Vy:()=>p});var r=i(60687),a=i(43210),n=i(4529),o=i(40507);let s=n.Ay.div.withConfig({componentId:"sc-5269cd0e-0"})(["width:","px;height:","px;border-radius:50%;background-color:",";position:",";left:","px;border:2px solid white;display:flex;align-items:center;justify-content:center;cursor:",";transition:transform 0.2s;filter:",";overflow:hidden;&:hover{transform:",";}"],e=>e.$size,e=>e.$size,e=>e.$bgColor||"#e0e0e0",e=>void 0!==e.$index?"absolute":"relative",e=>void 0!==e.$index?e.$index*(.6*e.$size):0,e=>e.$isClickable?"pointer":"default",e=>e.$isPast?"grayscale(50%)":"none",e=>e.$isClickable?"scale(1.1)":"none"),l=n.Ay.img.withConfig({componentId:"sc-5269cd0e-1"})(["width:100%;height:100%;object-fit:cover;border-radius:50%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;"]),c=n.Ay.div.withConfig({componentId:"sc-5269cd0e-2"})(["color:white;font-size:",";font-weight:600;display:flex;align-items:center;justify-content:center;"],e=>e.$size>30?"16px":"10px"),d=n.Ay.div.withConfig({componentId:"sc-5269cd0e-3"})(["width:","px;height:","px;border:2px solid #f3f3f3;border-top:2px solid #666;border-radius:50%;animation:spin 1s linear infinite;@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}"],e=>Math.min(.5*e.$size,16),e=>Math.min(.5*e.$size,16)),u=({uid:e,size:t=40,isLeader:i=!1,className:n,onClick:c,index:u,isPast:p=!1})=>{let[h,g]=(0,a.useState)(null),[f,m]=(0,a.useState)(!0),[w,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let t=async()=>{try{m(!0),v(!1);let t=await (0,o.l2)(e);g(t)}catch(t){console.error(`Error loading user profile for ${e}:`,t)}finally{m(!1)}};e?t():m(!1)},[e]);let x=h?.displayName||`User ${e?e.substring(0,8):""}`,$=((e,t)=>{let i=t?["#9c27b0","#673ab7","#3f51b5"]:["#2196f3","#03a9f4","#00bcd4","#009688","#4caf50"],r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;let a=Math.abs(r)%i.length;return i[a]})(e||"",i),y=h?.photoURL&&""!==h.photoURL.trim(),b=y&&!w?h.photoURL:"/default_user.jpg";return(0,r.jsx)(s,{$size:t,$bgColor:$,$index:u,$isPast:p,$isClickable:!!c,className:n,onClick:c,children:f?(0,r.jsx)(d,{$size:t}):(0,r.jsx)(l,{src:b,alt:x,draggable:!1,onContextMenu:e=>e.preventDefault(),onDragStart:e=>e.preventDefault(),onError:y&&!w?()=>{v(!0)}:void 0})})},p=({uids:e,maxAvatars:t=5,size:i=22,isLeader:a=!1,isPast:n=!1,onAvatarClick:o})=>{let l=e.slice(0,t),d=e.length>t,p=e.length-t;return(0,r.jsxs)("div",{style:{position:"relative",height:`${i}px`,minWidth:`${l.length>0?l.length*i*.6+.4*i:i}px`},children:[l.map((e,t)=>(0,r.jsx)(u,{uid:e,size:i,isLeader:a,index:t,isPast:n,onClick:o?()=>o(e):void 0},e)),d&&(0,r.jsx)(s,{$size:i,$bgColor:"#f0f0f0",$index:l.length,$isPast:n,$isClickable:!1,children:(0,r.jsxs)(c,{$size:i,children:["+",p]})},"more-count")]})}}};