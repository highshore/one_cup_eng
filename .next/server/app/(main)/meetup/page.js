(()=>{var e={};e.id=982,e.ids=[982],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9877:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var i=r(37413),o=r(17315);async function s(){return(0,i.jsx)(o.MeetupClient,{})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},17315:(e,t,r)=>{"use strict";r.d(t,{MeetupClient:()=>i});let i=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call MeetupClient() from the server but MeetupClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kylekim/Desktop/one_cup_eng/app/(main)/meetup/MeetupClient.tsx","MeetupClient")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71586:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>u,tree:()=>l});var i=r(65239),o=r(48088),s=r(88170),n=r.n(s),a=r(30893),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);r.d(t,d);let l={children:["",{children:["(main)",{children:["meetup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9877)),"/Users/kylekim/Desktop/one_cup_eng/app/(main)/meetup/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,19559)),"/Users/kylekim/Desktop/one_cup_eng/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/Users/kylekim/Desktop/one_cup_eng/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,p=["/Users/kylekim/Desktop/one_cup_eng/app/(main)/meetup/page.tsx"],c={require:r,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(main)/meetup/page",pathname:"/meetup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},73496:e=>{"use strict";e.exports=require("http2")},74061:(e,t,r)=>{"use strict";r.d(t,{MeetupClient:()=>G});var i=r(60687),o=r(43210),s=r(16189),n=r(4529),a=r(59798),d=r(3507),l=r(91133),p=r(14089),c=r(87850);let u=(0,n.i7)(["0%{box-shadow:0 2px 8px rgba(0,0,0,0.1);}50%{box-shadow:0 4px 20px rgba(76,175,80,0.2),0 2px 8px rgba(0,0,0,0.1);}100%{box-shadow:0 2px 8px rgba(0,0,0,0.1);}"]),x=n.Ay.div.withConfig({componentId:"sc-326bd702-0"})(["min-height:100vh;background-color:transparent;color:#333;"]),g=n.Ay.header.withConfig({componentId:"sc-326bd702-1"})(["background-color:transparent;padding:1rem;display:flex;align-items:center;justify-content:space-between;position:fixed;top:0;left:0;right:0;z-index:100;height:80px;@media (max-width:768px){height:60px;padding:0.75rem;}"]),m=n.Ay.button.withConfig({componentId:"sc-326bd702-2"})(["background:none;border:none;color:#333;font-size:1.5rem;cursor:pointer;padding:0.5rem;border-radius:50%;transition:background-color 0.2s;&:hover{background-color:rgba(0,0,0,0.1);}@media (max-width:768px){font-size:1.25rem;padding:0.375rem;}"]),h=n.Ay.h1.withConfig({componentId:"sc-326bd702-3"})(["color:#333;font-size:1.2rem;font-weight:600;margin:0;@media (max-width:768px){font-size:1rem;}"]),f=n.Ay.div.withConfig({componentId:"sc-326bd702-4"})(["background:",";border-radius:20px;margin:20px 0;cursor:pointer;transition:all 0.2s;box-shadow:0 2px 8px rgba(0,0,0,0.1);border:1px solid #e0e0e0;height:180px;aspect-ratio:5 / 3;position:relative;&:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,0.15);}@media (max-width:768px){margin:12px 0;border-radius:16px;}"],e=>e.$imageUrl?`linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(${e.$imageUrl}) center/cover`:"#212121"),b=n.Ay.div.withConfig({componentId:"sc-326bd702-5"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:24px;height:100%;width:100%;position:absolute;top:0;left:0;@media (max-width:768px){padding:16px;}"]),w=n.Ay.div.withConfig({componentId:"sc-326bd702-6"})(["flex:1;color:white;"]),y=n.Ay.div.withConfig({componentId:"sc-326bd702-7"})(["font-size:1rem;font-weight:600;color:#c8a27a;margin-bottom:0.5rem;text-transform:uppercase;letter-spacing:0.5px;@media (max-width:768px){font-size:0.9rem;margin-bottom:0.375rem;}"]),v=n.Ay.h3.withConfig({componentId:"sc-326bd702-8"})(["font-size:24px;font-weight:700;color:white;margin:0;line-height:1.3;word-wrap:break-word;text-shadow:0 2px 4px rgba(0,0,0,0.5);@media (max-width:768px){font-size:20px;line-height:1.2;}"]),C=n.Ay.h2.withConfig({componentId:"sc-326bd702-9"})(["color:#333;font-size:1.4rem;font-weight:800;margin:3rem 0 1rem 0;@media (max-width:768px){font-size:1.3rem;margin:1.25rem 0 0.75rem 0;}"]),k=n.Ay.div.withConfig({componentId:"sc-326bd702-10"})(["background-color:white;border-radius:20px;padding:24px;margin:20px 0;cursor:pointer;transition:all 0.2s;box-shadow:0 2px 8px rgba(0,0,0,0.1);border:1px solid #e0e0e0;width:100%;opacity:",";"," &:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,0.15);opacity:",";}@media (max-width:768px){padding:16px;margin:12px 0;border-radius:16px;}"],e=>e.$isPast?.6:1,e=>e.$isClosest?(0,n.AH)(["animation:"," 3s ease-in-out infinite;border:1px solid rgba(76,175,80,0.3);"],u):"",e=>e.$isPast?.8:1),A=n.Ay.div.withConfig({componentId:"sc-326bd702-11"})(["display:flex;align-items:flex-start;gap:20px;@media (max-width:768px){gap:12px;}"]),j=n.Ay.div.withConfig({componentId:"sc-326bd702-12"})(["width:120px;height:120px;border-radius:20px;overflow:hidden;background-color:#000000;flex-shrink:0;display:flex;align-items:center;justify-content:center;filter:",";@media (max-width:768px){width:80px;height:80px;border-radius:12px;}"],e=>e.$isPast?"grayscale(50%)":"none"),I=n.Ay.img.withConfig({componentId:"sc-326bd702-13"})(["width:100%;height:100%;object-fit:contain;"]),D=n.Ay.div.withConfig({componentId:"sc-326bd702-14"})(["color:#ccc;font-size:2.5rem;@media (max-width:768px){font-size:1.5rem;}"]),P=n.Ay.div.withConfig({componentId:"sc-326bd702-15"})(["flex:1;display:flex;flex-direction:column;min-width:0;"]),z=n.Ay.h3.withConfig({componentId:"sc-326bd702-16"})(["color:",";font-size:18px;font-weight:700;margin:0 0 8px 0;line-height:1.3;word-wrap:break-word;@media (max-width:768px){font-size:15px;margin:0 0 6px 0;line-height:1.2;}"],e=>e.$isPast?"#999":"#333"),E=n.Ay.span.withConfig({componentId:"sc-326bd702-17"})(["color:",";font-weight:",";"],e=>e.$isUrgent?"#DC143C":"inherit",e=>e.$isUrgent?"bold":"inherit"),_=n.Ay.div.withConfig({componentId:"sc-326bd702-18"})(["display:flex;align-items:center;gap:8px;margin-bottom:8px;@media (max-width:768px){gap:6px;margin-bottom:4px;}"]),$=n.Ay.span.withConfig({componentId:"sc-326bd702-19"})(["color:",";flex-shrink:0;display:flex;align-items:center;@media (max-width:768px){}"],e=>e.$isPast?"#999":"#666"),q=n.Ay.span.withConfig({componentId:"sc-326bd702-20"})(["color:",";font-size:16px;letter-spacing:0;word-wrap:break-word;@media (max-width:768px){font-size:13px;}"],e=>e.$isPast?"#999":"#666"),F=n.Ay.div.withConfig({componentId:"sc-326bd702-21"})(["display:flex;justify-content:space-between;align-items:center;margin-top:8px;gap:8px;@media (max-width:768px){margin-top:4px;gap:6px;}"]),T=n.Ay.span.withConfig({componentId:"sc-326bd702-22"})(["display:inline-block;padding:8px 16px;font-size:14px;font-weight:700;color:#ffffff;background-color:",";border-radius:20px;text-align:center;min-width:80px;transition:all 0.2s ease;@media (max-width:768px){font-size:12px;padding:6px 12px;min-width:80px;}"],e=>e.$statusColor),U=n.Ay.div.withConfig({componentId:"sc-326bd702-23"})(["text-align:center;padding:2rem 1rem;color:#666;@media (max-width:768px){padding:1.5rem 0.75rem;font-size:14px;}"]),M=n.Ay.button.withConfig({componentId:"sc-326bd702-24"})(["display:block;margin:2rem auto 1rem auto;padding:0.75rem 1.5rem;background-color:#f5f5f5;border:1px solid #ddd;border-radius:25px;color:#666;font-size:14px;font-weight:600;cursor:pointer;transition:all 0.2s;min-width:100px;&:hover{background-color:#eeeeee;border-color:#bbb;transform:translateY(-1px);}&:disabled{opacity:0.5;cursor:not-allowed;transform:none;}@media (max-width:768px){padding:0.625rem 1.25rem;margin:1.5rem auto 0.75rem auto;font-size:13px;border-radius:20px;}"]),S=n.Ay.div.withConfig({componentId:"sc-326bd702-25"})(["text-align:center;padding:3rem 1rem;color:#666;@media (max-width:768px){padding:2rem 1rem;font-size:14px;}"]),G=()=>{let e=(0,s.useRouter)(),[t,r]=(0,o.useState)([]),[n,u]=(0,o.useState)([]),[G,B]=(0,o.useState)([]),[H,R]=(0,o.useState)(!0),[J,L]=(0,o.useState)(!1),[N,Y]=(0,o.useState)(null),[Z,O]=(0,o.useState)(null),[K,Q]=(0,o.useState)(!0),[V,X]=(0,o.useState)(null),W=(0,o.useRef)(null),ee=e=>new Date(`${e.date}T${e.time}`),et=(0,o.useCallback)(e=>{let t=new Date,r=[],i=[];e.forEach(e=>{ee(e)>=t?r.push(e):i.push(e)}),r.sort((e,t)=>ee(e).getTime()-ee(t).getTime()),i.sort((e,t)=>ee(t).getTime()-ee(e).getTime()),u(r),B(i)},[]),er=(0,o.useCallback)(async(e=!1)=>{try{e?(R(!0),r([]),O(null),Q(!0)):L(!0);let t=await (0,a.UZ)(e?void 0:Z??void 0);e?(r(t.events),et(t.events)):r(e=>{let r=[...e,...t.events];return et(r),r}),O(t.lastDoc),Q(null!==t.lastDoc&&t.events.length>0),Y(null)}catch(e){Y(e instanceof Error?e.message:"Failed to load events")}finally{R(!1),L(!1)}},[Z,et]),ei=(0,o.useCallback)(()=>{!J&&K&&Z&&er(!1)},[J,K,Z,er]);(0,o.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&K&&!J&&ei()},{threshold:.1,rootMargin:"100px"});return W.current&&e.observe(W.current),()=>{W.current&&e.unobserve(W.current)}},[K,J,ei]);let eo=(0,o.useCallback)(async()=>{try{let e=await (0,c.CF)();e.length>0&&X(e[0])}catch(e){console.error("Failed to load latest blog post:",e)}},[]);(0,o.useEffect)(()=>{er(!0),eo()},[]),(0,o.useEffect)(()=>{window.scrollTo(0,0)},[]);let es=t=>{e.push(`/meetup/${t}`)},en=()=>{},ea=(e,t=!1,r=!1)=>{let{countdownPrefix:o,eventTitle:s,isUrgent:n}=(0,d.z0)(e),a=(0,d.FQ)(e),c=a.isLocked,u=e.leaders.length+e.participants.length,x=t?"#757575":c?"full"===a.reason?"#ff4d4f":"#888":"#4CAF50";return(0,i.jsx)(k,{onClick:()=>es(e.id),$isPast:t,$isClosest:r,children:(0,i.jsxs)(A,{children:[(0,i.jsx)(j,{$isPast:t,children:e.image_urls&&e.image_urls.length>0?(0,i.jsx)(I,{src:e.image_urls[0],alt:e.title}):(0,i.jsx)(D,{children:"\uD83D\uDDBC️"})}),(0,i.jsxs)(P,{children:[(0,i.jsxs)(z,{$isPast:t,children:[o&&(0,i.jsx)(E,{$isUrgent:n,children:o}),s]}),(0,i.jsxs)(_,{children:[(0,i.jsx)($,{$isPast:t,children:(0,i.jsx)(p.ts,{width:"16px",height:"16px"})}),(0,i.jsx)(q,{$isPast:t,children:e.location_name})]}),(0,i.jsxs)(_,{children:[(0,i.jsx)($,{$isPast:t,children:(0,i.jsx)(p.CT,{width:"16px",height:"16px"})}),(0,i.jsx)(q,{$isPast:t,children:(0,d.pd)(e)})]}),(0,i.jsxs)(F,{children:[(0,i.jsx)(l.Vy,{uids:[...e.leaders,...e.participants],maxAvatars:5,size:30,isPast:t,onAvatarClick:en}),(0,i.jsxs)(T,{$statusColor:x,children:[(()=>{if(t)return"종료";if(!c)return"참가 가능";switch(a.reason){case"started":return"진행중";case"full":return"정원 마감";default:return"모집 종료"}})()," (",u,"/",e.max_participants,")"]})]})]})]})},e.id)};return(0,i.jsxs)(x,{children:[(0,i.jsxs)(g,{children:[(0,i.jsx)(m,{children:"❓"}),(0,i.jsx)(h,{children:"English Meetups"}),(0,i.jsx)(m,{children:"\uD83D\uDCF1"})]}),V?(0,i.jsx)(f,{$imageUrl:V.featuredImage,onClick:()=>{V&&e.push(`/blog/${V.id}`)},children:(0,i.jsx)(b,{children:(0,i.jsxs)(w,{children:[(0,i.jsx)(y,{children:"따끈따끈한 밋업 후기"}),(0,i.jsx)(v,{children:V.title})]})})}):null,H&&(0,i.jsx)(U,{children:"Loading events..."}),N&&(0,i.jsxs)(S,{children:["Error loading events: ",N]}),!H&&!N&&(0,i.jsxs)(i.Fragment,{children:[n.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C,{children:"현재 모집 중 \uD83E\uDD73"}),n.map((e,t)=>ea(e,!1,0===t))]}),G.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C,{children:"이전 밋업"}),G.map(e=>ea(e,!0,!1))]}),K&&(0,i.jsx)(M,{ref:W,onClick:ei,disabled:J,children:J?"로딩 중...":"더 보기"}),0===n.length&&0===G.length&&!H&&(0,i.jsx)(S,{children:"No events found."})]})]})}},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},87850:(e,t,r)=>{"use strict";r.d(t,{$r:()=>l,CF:()=>d,Fd:()=>u,TB:()=>p,ZA:()=>c,m0:()=>g,s2:()=>x});var i=r(75535),o=r(83503);let s="blog_posts",n=e=>e.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-").trim(),a=e=>{let t=e.data();return{id:e.id,title:t.title||"",content:t.content||"",excerpt:t.excerpt||"",createdAt:t.createdAt?.toDate()||new Date,updatedAt:t.updatedAt?.toDate()||new Date,publishedAt:t.publishedAt?.toDate()||null,status:t.status||"draft",slug:t.slug||"",featuredImage:t.featuredImage||"",tags:t.tags||[],views:t.views||0,likes:t.likes||0,likedBy:t.likedBy||[]}},d=async()=>{try{let e=(0,i.rJ)(o.db,s);return(await (0,i.GG)(e)).docs.map(a).filter(e=>"published"===e.status).sort((e,t)=>{let r=e.publishedAt||e.createdAt;return(t.publishedAt||t.createdAt).getTime()-r.getTime()})}catch(e){return console.error("Error fetching blog posts:",e),[]}},l=async()=>{try{let e=(0,i.rJ)(o.db,s);return(await (0,i.GG)(e)).docs.map(a).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}catch(e){return console.error("Error fetching all blog posts:",e),[]}},p=async e=>{try{let t=(0,i.H9)(o.db,s,e),r=await (0,i.x7)(t);if(r.exists())return a(r);return null}catch(e){throw console.error("Error fetching blog post:",e),Error("Failed to fetch blog post")}},c=async e=>{try{let t=(0,i.H9)(o.db,s,e),r=await (0,i.x7)(t);if(!r.exists())return null;{let e=a(r);if("published"===e.status)return e;return null}}catch(e){throw console.error("Error fetching published blog post:",e),Error("Failed to fetch blog post")}},u=async e=>{try{console.log("Creating blog post with data:",e);let t=new Date,r=n(e.title||""),a={title:e.title||"",content:e.content||"",createdAt:i.Dc.fromDate(t),updatedAt:i.Dc.fromDate(t),publishedAt:"published"===e.status?i.Dc.fromDate(t):null,status:e.status||"draft",slug:r};e.excerpt&&(a.excerpt=e.excerpt),e.featuredImage&&(a.featuredImage=e.featuredImage),e.tags&&e.tags.length>0&&(a.tags=e.tags),console.log("Final blog post object:",a);let d=(0,i.rJ)(o.db,s),l=await (0,i.gS)(d,a);return console.log("Blog post created successfully with ID:",l.id),l.id}catch(e){throw console.error("Error creating blog post:",e),console.error("Error stack:",e instanceof Error?e.stack:"No stack"),Error("Failed to create blog post: "+(e instanceof Error?e.message:String(e)))}},x=async(e,t)=>{try{console.log("Updating blog post ID:",e,"with data:",t);let r=(0,i.H9)(o.db,s,e),a=new Date,d={updatedAt:i.Dc.fromDate(a)};if(void 0!==t.title&&(d.title=t.title,d.slug=n(t.title)),void 0!==t.content&&(d.content=t.content),void 0!==t.excerpt&&(d.excerpt=t.excerpt),void 0!==t.status&&(d.status=t.status),void 0!==t.featuredImage&&(d.featuredImage=t.featuredImage),void 0!==t.tags&&(d.tags=t.tags),"published"===t.status){let e=(await (0,i.x7)(r)).data();e?.publishedAt||(d.publishedAt=i.Dc.fromDate(a))}console.log("Final update data:",d),await (0,i.mZ)(r,d),console.log("Blog post updated successfully")}catch(e){throw console.error("Error updating blog post:",e),console.error("Error stack:",e instanceof Error?e.stack:"No stack"),Error("Failed to update blog post: "+(e instanceof Error?e.message:String(e)))}},g=async e=>{try{let t=(0,i.H9)(o.db,s,e);await (0,i.kd)(t)}catch(e){throw console.error("Error deleting blog post:",e),Error("Failed to delete blog post")}}},91645:e=>{"use strict";e.exports=require("net")},94552:(e,t,r)=>{Promise.resolve().then(r.bind(r,17315))},94735:e=>{"use strict";e.exports=require("events")},95224:(e,t,r)=>{Promise.resolve().then(r.bind(r,74061))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[57,814,440,514],()=>r(71586));module.exports=i})();