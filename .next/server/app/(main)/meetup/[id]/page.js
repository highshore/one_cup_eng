(()=>{var e={};e.id=268,e.ids=[268],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3720:(e,t,i)=>{Promise.resolve().then(i.bind(i,29150))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},16612:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>s.a,__next_app__:()=>l,pages:()=>p,routeModule:()=>x,tree:()=>c});var r=i(65239),n=i(48088),o=i(88170),s=i.n(o),a=i(30893),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);i.d(t,d);let c={children:["",{children:["(main)",{children:["meetup",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,66479)),"/Users/kylekim/Desktop/one_cup_eng/app/(main)/meetup/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,19559)),"/Users/kylekim/Desktop/one_cup_eng/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,65284,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,58014)),"/Users/kylekim/Desktop/one_cup_eng/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,p=["/Users/kylekim/Desktop/one_cup_eng/app/(main)/meetup/[id]/page.tsx"],l={require:i,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(main)/meetup/[id]/page",pathname:"/meetup/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29150:(e,t,i)=>{"use strict";i.d(t,{EventDetailClient:()=>r});let r=(0,i(12907).registerClientReference)(function(){throw Error("Attempted to call EventDetailClient() from the server but EventDetailClient is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/kylekim/Desktop/one_cup_eng/app/(main)/meetup/[id]/EventDetailClient.tsx","EventDetailClient")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66479:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s,generateStaticParams:()=>o});var r=i(37413),n=i(29150);async function o(){return[]}function s({params:e}){return(0,r.jsx)(n.EventDetailClient,{})}},72016:(e,t,i)=>{"use strict";i.d(t,{EventDetailClient:()=>E});var r=i(60687),n=i(43210),o=i(16189),s=i(4529),a=i(59798),d=i(3507),c=i(91133),p=i(40507),l=i(64433),x=i(14089);let u=(0,s.i7)(["0%{background-position:-100% center;}100%{background-position:100% center;}"]),m=s.Ay.div.withConfig({componentId:"sc-f420165d-0"})(["min-height:100vh;background-color:transparent;color:#333;@media (max-width:768px){overflow-x:hidden;}"]),h=s.Ay.div.withConfig({componentId:"sc-f420165d-1"})(["height:40vh;position:relative;overflow:hidden;background-color:#000000;border-radius:20px;margin-top:2rem;@media (max-width:768px){height:35vh;margin-top:1rem;border-radius:12px;}"]),g=s.Ay.img.withConfig({componentId:"sc-f420165d-2"})(["width:100%;height:100%;object-fit:contain;position:absolute;top:0;left:0;opacity:",";transition:opacity 0.3s ease-in-out;"],e=>+!!e.$active),f=s.Ay.div.withConfig({componentId:"sc-f420165d-3"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:#000000;color:#ccc;font-size:3rem;@media (max-width:768px){font-size:2rem;}"]),w=s.Ay.div.withConfig({componentId:"sc-f420165d-4"})(["padding:2.5rem 0 0 0;max-width:960px;margin:0 auto;@media (max-width:768px){padding:1.5rem 0 0 0;max-width:100%;}"]),v=s.Ay.div.withConfig({componentId:"sc-f420165d-5"})(["display:inline-flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;border-radius:20px;background-color:",";color:",";font-size:14px;font-weight:600;margin-bottom:1rem;@media (max-width:768px){font-size:12px;padding:0.375rem 0.75rem;margin-bottom:0.75rem;border-radius:12px;}"],e=>{switch(e.$category.toLowerCase()){case"discussion":return"#e3f2fd";case"movie night":return"#ffebee";case"picnic":return"#e8f5e8";case"socializing":return"#fff3e0";default:return"#f5f5f5"}},e=>{switch(e.$category.toLowerCase()){case"discussion":return"#1976d2";case"movie night":return"#d32f2f";case"picnic":return"#388e3c";case"socializing":return"#f57c00";default:return"#666"}}),b=s.Ay.h1.withConfig({componentId:"sc-f420165d-6"})(["color:#333;font-size:28px;font-weight:800;margin:0 0 1rem 0;line-height:1.3;word-wrap:break-word;@media (max-width:768px){font-size:22px;margin:0 0 0.75rem 0;line-height:1.2;}"]),y=s.Ay.span.withConfig({componentId:"sc-f420165d-7"})(["color:",";font-weight:",";"],e=>e.$isUrgent?"#DC143C":"inherit",e=>e.$isUrgent?"bold":"inherit"),j=s.Ay.p.withConfig({componentId:"sc-f420165d-8"})(["color:#333;font-size:16px;line-height:1.6;margin:0 0 1.5rem 0;white-space:pre-wrap;word-wrap:break-word;@media (max-width:768px){font-size:14px;line-height:1.5;margin:0 0 1rem 0;}"]),k=s.Ay.h2.withConfig({componentId:"sc-f420165d-9"})(["color:#333;font-size:24px;font-weight:700;margin:1.5rem 0 1rem 0;@media (max-width:768px){font-size:20px;margin:1.25rem 0 0.75rem 0;}"]),C=s.Ay.div.withConfig({componentId:"sc-f420165d-10"})(["display:flex;align-items:flex-start;gap:8px;margin-bottom:8px;@media (max-width:768px){gap:6px;margin-bottom:6px;}"]),z=s.Ay.span.withConfig({componentId:"sc-f420165d-11"})(["color:#666;margin-top:3px;flex-shrink:0;display:flex;align-items:center;@media (max-width:768px){margin-top:2px;}"]),_=s.Ay.span.withConfig({componentId:"sc-f420165d-12"})(["color:#333;font-size:16px;line-height:1.4;word-wrap:break-word;@media (max-width:768px){font-size:14px;line-height:1.3;}"]),A=s.Ay.div.withConfig({componentId:"sc-f420165d-13"})(["display:flex;flex-wrap:wrap;gap:8px;margin:0.5rem 0;@media (max-width:768px){gap:6px;margin:0.375rem 0;}"]),$=s.Ay.div.withConfig({componentId:"sc-f420165d-14"})(["display:flex;gap:16px;max-width:920px;transition:opacity 0.3s ease-in-out,transform 0.3s ease-in-out;z-index:1000;"," @media (max-width:768px){flex-direction:column;gap:12px;width:auto;","}"],({$isFloating:e})=>e?(0,s.AH)(["position:fixed;bottom:30px;left:20px;right:20px;margin:0 auto;padding-bottom:0;z-index:1050;"]):(0,s.AH)(["position:static;margin:2rem auto 0 auto;padding-bottom:0;z-index:1000;"]),({$isFloating:e})=>e?(0,s.AH)(["position:fixed !important;bottom:20px !important;left:16px !important;right:16px !important;margin:0 !important;padding-bottom:16px;z-index:1050 !important;box-shadow:0 -4px 20px rgba(0,0,0,0.15);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);"]):(0,s.AH)(["position:static !important;margin:1.5rem auto 0 auto !important;z-index:1000;box-shadow:none;backdrop-filter:none;-webkit-backdrop-filter:none;"])),P=s.Ay.button.withConfig({componentId:"sc-f420165d-15"})(["flex:1;padding:1rem;border:none;border-radius:20px;font-size:16px;font-weight:700;cursor:",";transition:all 0.2s;display:flex;align-items:center;justify-content:center;gap:8px;position:relative;overflow:hidden;background-color:",";"," color:",";&:hover{transform:",";box-shadow:",";}@media (max-width:768px){padding:0.875rem;font-size:14px;border-radius:16px;gap:6px;&:hover{transform:",";}}"],e=>"locked"===e.$variant?"not-allowed":"pointer",e=>"locked"===e.$variant?"#e0e0e0":"cancel"===e.$variant?"#990033":"#000000",e=>"join"===e.$variant&&(0,s.AH)(["background:linear-gradient( 90deg,#000000 0%,#000000 25%,#1a0808 35%,#2a0808 45%,#3a1010 50%,#2a0808 55%,#1a0808 65%,#000000 75%,#000000 100% );background-size:200% 100%;animation:"," 3s ease-in-out infinite;box-shadow:0 4px 15px rgba(0,0,0,0.3);"],u),e=>"locked"===e.$variant?"#999":"white",e=>"locked"!==e.$variant?"translateY(-2px)":"none",e=>"locked"===e.$variant?"none":"join"===e.$variant?"0 8px 25px rgba(0, 0, 0, 0.4)":"0 4px 12px rgba(0, 0, 0, 0.15)",e=>"locked"!==e.$variant?"translateY(-1px)":"none"),I=s.Ay.div.withConfig({componentId:"sc-f420165d-16"})(["position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;z-index:1050;"]),q=s.Ay.div.withConfig({componentId:"sc-f420165d-17"})(["background-color:white;padding:2rem;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,0.3);display:flex;flex-direction:column;gap:1rem;width:90%;max-width:400px;text-align:center;h3{margin-top:0;font-size:1.5rem;color:#333;}p{font-size:1rem;color:#555;margin-bottom:1rem;}"]),D=s.Ay.button.withConfig({componentId:"sc-f420165d-18"})(["padding:0.75rem 1rem;border-radius:8px;border:1px solid ",";background-color:",";color:",";font-size:1rem;font-weight:600;cursor:pointer;transition:all 0.2s ease;&:hover{opacity:0.8;}"],({$primary:e})=>e?"#000":"#ccc",({$primary:e})=>e?"#000":"white",({$primary:e})=>e?"white":"#333");function E(){let e=(0,o.useParams)(),t=(0,o.useRouter)(),{currentUser:i,accountStatus:s}=(0,l.A)(),[u,E]=(0,n.useState)(null),[F,S]=(0,n.useState)(!0),[L,U]=(0,n.useState)(null),[H,R]=(0,n.useState)(0),T=(0,n.useRef)(null),[G,M]=(0,n.useState)(!1),B=e?.id,[O,W]=(0,n.useState)(!1),[Y,K]=(0,n.useState)(!1),[N,Q]=(0,n.useState)(null),X=(0,n.useMemo)(()=>!!i&&!!u&&(u.participants.includes(i.uid)||u.leaders.includes(i.uid)),[i,u]),J=async()=>{if(!i)return void t.push("/auth");if(!u)return void alert("이벤트 정보가 없습니다.");if(X)try{await (0,a.Gi)(u.id,i.uid),alert("밋업 참가가 취소되었습니다.")}catch(t){let e=t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다.";alert(`오류: 참가 취소에 실패했습니다. (${e})`)}else{try{if(!await (0,p.gD)(i.uid))return void K(!0)}catch(e){alert("구독 상태를 확인하는 중 오류가 발생했습니다. 다시 시도해주세요.");return}if("admin"===s||"leader"===s)W(!0);else try{await (0,a.Pu)(u.id,i.uid,"participant"),alert("밋업에 참가자로 등록되셨습니다!")}catch(t){let e=t instanceof Error?t.message:"알 수 없는 오류가 발생했습니다.";alert(`오류: 참가 신청에 실패했습니다. (${e})`)}}},V=async e=>{if(W(!1),!i||!u)return void alert("사용자 정보 또는 이벤트 정보가 없습니다.");try{if(!await (0,p.gD)(i.uid))return void K(!0)}catch(e){alert("구독 상태를 확인하는 중 오류가 발생했습니다. 다시 시도해주세요.");return}try{await (0,a.Pu)(u.id,i.uid,e),alert(`밋업에 ${"leader"===e?"리더":"참가자"}로 등록되셨습니다!`)}catch(i){let t=i instanceof Error?i.message:"알 수 없는 오류가 발생했습니다.";alert(`오류: ${"leader"===e?"리더":"참가자"}로 참가 신청에 실패했습니다. (${t})`)}};if(F)return(0,r.jsx)(m,{children:(0,r.jsx)("div",{style:{paddingTop:"80px",textAlign:"center",padding:"2rem"},children:(0,r.jsx)("div",{style:{color:"#666",fontSize:"16px",marginBottom:"1rem"},children:"Loading event details..."})})});if(L||!u)return(0,r.jsx)(m,{children:(0,r.jsxs)("div",{style:{paddingTop:"80px",textAlign:"center",padding:"2rem"},children:[(0,r.jsx)("div",{style:{color:"#666",fontSize:"16px",marginBottom:"1rem"},children:L||`Event with ID "${B}" was not found.`}),(0,r.jsx)(P,{$variant:"join",onClick:()=>{t.push("/meetup")},style:{position:"static",margin:"0 auto",maxWidth:"200px"},children:"← Back to Events"})]})});let Z=(0,d.FQ)(u),ee=Z.isLocked,et=u.title.toLowerCase().includes("movie")?"Movie Night":u.title.toLowerCase().includes("business")?"Socializing":"Discussion",{countdownPrefix:ei,eventTitle:er,isUrgent:en}=(0,d.z0)(u),eo=u.participants.length+u.leaders.length,es=async()=>i?!1===N?void K(!0):void await J():void t.push("/auth");return(0,r.jsxs)(m,{children:[(0,r.jsx)(h,{children:u.image_urls.length>0?u.image_urls.map((e,t)=>(0,r.jsx)(g,{src:e,alt:`Event ${t+1}`,$active:t===H},t)):(0,r.jsx)(f,{children:"\uD83D\uDDBC️"})}),(0,r.jsxs)(w,{children:[(0,r.jsxs)(v,{$category:et,children:[(0,r.jsx)("span",{children:(e=>{switch(e.toLowerCase()){case"discussion":return"\uD83D\uDCAC";case"movie night":return"\uD83C\uDFAC";case"picnic":return"\uD83C\uDF49";case"socializing":return"\uD83D\uDC65";default:return"\uD83D\uDCC5"}})(et)}),et]}),(0,r.jsxs)(b,{children:[ei&&(0,r.jsx)(y,{$isUrgent:en,children:ei}),er]}),(0,r.jsx)(j,{children:u.description}),(0,r.jsx)(k,{children:"세부 사항"}),(0,r.jsxs)(C,{children:[(0,r.jsx)(z,{children:(0,r.jsx)(x.O4,{width:"18px",height:"18px"})}),(0,r.jsxs)(_,{children:["일정 시간: ",u.duration_minutes,"분"]})]}),(0,r.jsxs)(C,{children:[(0,r.jsx)(z,{children:(0,r.jsx)(x.CT,{width:"18px",height:"18px"})}),(0,r.jsxs)(_,{children:["시작 시간: ",(0,d.pd)(u)]})]}),(0,r.jsxs)(C,{children:[(0,r.jsx)(z,{children:(0,r.jsx)(x.ts,{width:"18px",height:"18px"})}),(0,r.jsxs)(_,{children:[u.location_name," (",u.location_address,","," ",u.location_extra_info,")"]})]}),(0,r.jsxs)(k,{children:["참가 예정 (",eo,"/",u.max_participants,")"]}),(0,r.jsxs)(A,{children:[u.participants.slice(0,12).map(e=>(0,r.jsx)(c.H8,{uid:e,size:40,isLeader:!1,onClick:()=>{}},e)),u.participants.length>12&&(0,r.jsxs)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold",color:"#666"},children:["+",u.participants.length-12]},"more-participants")]}),(0,r.jsx)(k,{children:"운영진 및 리더"}),(0,r.jsx)(A,{children:u.leaders.map(e=>(0,r.jsx)(c.H8,{uid:e,size:40,isLeader:!0,onClick:()=>{}},e))}),(0,r.jsx)($,{ref:T,$isFloating:G,children:(0,r.jsxs)(P,{$variant:ee?"locked":X?"cancel":"join",onClick:ee?void 0:es,children:[(0,r.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:ee?"\uD83D\uDD12":X?(0,r.jsx)(x.EO,{fillColor:"#FFFFFF",width:"20px",height:"20px"}):(0,r.jsx)(x.Cy,{fillColor:"#FFFFFF",width:"20px",height:"20px"})}),(()=>{if(!ee)return i?!1===N?"구독하고 참가하기":X?"취소":"참가 신청하기":"로그인하고 참가하기";switch(Z.reason){case"started":case"lockdown":default:return"모집 종료";case"full":return"참가 인원 초과"}})()]})})]}),O&&(0,r.jsx)(I,{onClick:()=>W(!1),children:(0,r.jsxs)(q,{onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{children:"참여 방식 선택"}),(0,r.jsx)("p",{children:"이 밋업에 어떤 역할로 참여하시겠습니까?"}),(0,r.jsx)(D,{$primary:!0,onClick:()=>V("leader"),children:"리더로 참여"}),(0,r.jsx)(D,{onClick:()=>V("participant"),children:"참가자로 참여"}),(0,r.jsx)(D,{onClick:()=>W(!1),style:{marginTop:"0.5rem"},children:"취소"})]})}),Y&&(0,r.jsx)(I,{onClick:()=>K(!1),children:(0,r.jsxs)(q,{onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{children:"구독이 필요합니다"}),(0,r.jsx)("p",{children:"밋업에 참가하시려면 활성화된 구독이 필요합니다."}),(0,r.jsx)("p",{children:"결제 페이지에서 구독을 시작하시겠습니까?"}),(0,r.jsx)(D,{$primary:!0,onClick:()=>{K(!1),t.push("/payment")},children:"결제 페이지로 이동"}),(0,r.jsx)(D,{onClick:()=>K(!1),style:{marginTop:"0.5rem"},children:"취소"})]})})]})}},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},90568:(e,t,i)=>{Promise.resolve().then(i.bind(i,72016))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[57,814,440,514],()=>i(16612));module.exports=r})();