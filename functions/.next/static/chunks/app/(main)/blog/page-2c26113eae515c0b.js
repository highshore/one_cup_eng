(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[428],{4939:(e,t,i)=>{"use strict";i.d(t,{BlogClient:()=>P});var a=i(95155),n=i(12115),o=i(35695),r=i(43262),s=i(62269),d=i(75768),l=i(25193);let m={primary:"#2C1810",primaryPale:"#F5EBE6",accent:"#C8A27A",text:{dark:"#2C1810",medium:"#4A2F23",light:"#8B6B4F"}},c=r.Ay.article.withConfig({componentId:"sc-78a9396a-0"})(["background:white;border-radius:16px;overflow:hidden;box-shadow:0 6px 24px rgba(0,0,0,0.08);border:1px solid ",';transition:all 0.3s ease;cursor:pointer;position:relative;font-family:"Noto Sans KR",sans-serif;aspect-ratio:4 / 3;max-width:100%;display:flex;flex-direction:column;&:hover{transform:translateY(-6px);box-shadow:0 16px 32px rgba(0,0,0,0.12);border-color:',";}@media (max-width:768px){border-radius:14px;aspect-ratio:4 / 3;&:hover{transform:translateY(-3px);}}"],m.primaryPale,m.accent),p=r.Ay.div.withConfig({componentId:"sc-78a9396a-1"})(["width:100%;flex:0 0 55%;background:",";position:relative;display:flex;align-items:center;justify-content:center;@media (max-width:768px){flex:0 0 50%;}"],e=>e.$hasImage&&e.$imageUrl?"url(".concat(e.$imageUrl,") center/cover"):"linear-gradient(135deg, ".concat(m.accent," 0%, ").concat(m.primary," 100%)")),f=r.Ay.div.withConfig({componentId:"sc-78a9396a-2"})(["color:white;font-size:3rem;font-weight:300;opacity:0.8;@media (max-width:768px){font-size:2.5rem;}"]),x=r.Ay.div.withConfig({componentId:"sc-78a9396a-3"})(['position:absolute;top:10px;right:10px;padding:3px 10px;border-radius:16px;font-size:0.75rem;font-weight:600;font-family:"Noto Sans KR",sans-serif;text-transform:uppercase;letter-spacing:0.3px;color:white;background:',";@media (max-width:768px){font-size:0.65rem;padding:2px 8px;top:8px;right:8px;}"],e=>{switch(e.$status){case"published":return"#22c55e";case"draft":return"#f59e0b";default:return"#6b7280"}}),g=r.Ay.div.withConfig({componentId:"sc-78a9396a-4"})(["flex:1;padding:1.25rem;display:flex;flex-direction:column;min-height:0;@media (max-width:768px){padding:1rem;}"]),h=r.Ay.div.withConfig({componentId:"sc-78a9396a-5"})(["flex:1;display:flex;flex-direction:column;"]),u=r.Ay.div.withConfig({componentId:"sc-78a9396a-6"})(["margin-top:auto;padding-top:0.5rem;"]),w=r.Ay.h2.withConfig({componentId:"sc-78a9396a-7"})(["font-size:1.4rem;font-weight:700;color:",';margin-bottom:0.6rem;line-height:1.3;font-family:"Noto Sans KR",sans-serif;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;@media (max-width:768px){font-size:1.2rem;margin-bottom:0.5rem;}'],m.text.dark),y=r.Ay.p.withConfig({componentId:"sc-78a9396a-8"})(["font-size:0.95rem;color:",';line-height:1.5;margin-bottom:0.8rem;font-family:"Noto Sans KR",sans-serif;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;@media (max-width:768px){font-size:0.85rem;margin-bottom:0.7rem;line-height:1.4;}'],m.text.medium),b=r.Ay.div.withConfig({componentId:"sc-78a9396a-9"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:0.75rem;font-size:0.8rem;color:",';font-family:"Noto Sans KR",sans-serif;@media (max-width:768px){font-size:0.75rem;margin-bottom:0.6rem;}'],m.text.light),C=r.Ay.span.withConfig({componentId:"sc-78a9396a-10"})(["font-weight:600;color:",';font-family:"Noto Sans KR",sans-serif;'],m.text.medium),j=r.Ay.span.withConfig({componentId:"sc-78a9396a-11"})(["color:",';font-family:"Noto Sans KR",sans-serif;'],m.text.light),v=r.Ay.div.withConfig({componentId:"sc-78a9396a-12"})(["display:flex;flex-wrap:wrap;gap:0.4rem;margin-bottom:0.75rem;@media (max-width:768px){gap:0.3rem;margin-bottom:0.6rem;}"]),A=r.Ay.span.withConfig({componentId:"sc-78a9396a-13"})(["background:",";color:",';padding:0.2rem 0.6rem;border-radius:16px;font-size:0.7rem;font-weight:500;font-family:"Noto Sans KR",sans-serif;@media (max-width:768px){font-size:0.65rem;padding:0.15rem 0.5rem;border-radius:14px;}'],m.primaryPale,m.text.medium),k=r.Ay.div.withConfig({componentId:"sc-78a9396a-14"})(["position:absolute;top:10px;left:10px;display:flex;gap:0.4rem;opacity:0;transition:opacity 0.3s ease;",":hover &{opacity:1;}@media (max-width:768px){top:8px;left:8px;gap:0.3rem;}"],c),I=r.Ay.button.withConfig({componentId:"sc-78a9396a-15"})(["background:rgba(255,255,255,0.9);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all 0.2s ease;color:",';font-size:0.85rem;font-family:"Noto Sans KR",sans-serif;&:hover{background:white;transform:scale(1.1);}&.edit{color:#3b82f6;}&.delete{color:#ef4444;}@media (max-width:768px){width:28px;height:28px;font-size:0.75rem;}'],m.text.dark),S=e=>{let{post:t,isAdmin:i,onEdit:n,onDelete:o,onClick:r}=e;return(0,a.jsxs)(c,{onClick:r,children:[(0,a.jsxs)(p,{$hasImage:!!t.featuredImage,$imageUrl:t.featuredImage,children:[!t.featuredImage&&(0,a.jsx)(f,{children:"\uD83D\uDCDD"}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x,{$status:t.status,children:t.status}),(0,a.jsxs)(k,{children:[(0,a.jsx)(I,{className:"edit",onClick:e=>{e.stopPropagation(),n()},title:"편집",children:"✏️"}),(0,a.jsx)(I,{className:"delete",onClick:e=>{e.stopPropagation(),o()},title:"삭제",children:"\uD83D\uDDD1️"})]})]})]}),(0,a.jsxs)(g,{children:[(0,a.jsxs)(h,{children:[(0,a.jsx)(w,{children:t.title}),(0,a.jsx)(y,{children:(()=>{if(t.excerpt)return t.excerpt;let e=t.content.replace(/<[^>]*>/g,"").replace(/\*{4}([\s\S]+?)\*{4}/g,"$1").replace(/\*\*(\S(?:[\s\S]*?\S)?)\*\*/g,"$1").replace(/^# (.*$)/gim,"$1").replace(/^## (.*$)/gim,"$1").replace(/^### (.*$)/gim,"$1");return e.length>150?e.substring(0,150)+"...":e})()})]}),(0,a.jsxs)(u,{children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(C,{children:"by 영어 한잔"}),(0,a.jsx)(j,{children:new Date(t.publishedAt||t.createdAt).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})]}),t.tags&&t.tags.length>0&&(0,a.jsxs)(v,{children:[t.tags.slice(0,3).map((e,t)=>(0,a.jsx)(A,{children:e},t)),t.tags.length>3&&(0,a.jsxs)(A,{children:["+",t.tags.length-3]})]})]})]})]})},z={primary:"#2C1810",primaryLight:"#4A2F23",primaryPale:"#F5EBE6",text:{dark:"#2C1810",medium:"#4A2F23",light:"#8B6B4F"}},N=r.Ay.div.withConfig({componentId:"sc-d544fd52-0"})(['padding:1.5rem 0;font-family:"Noto Sans KR",sans-serif;@media (max-width:768px){padding:1rem 0;}']),R=r.Ay.div.withConfig({componentId:"sc-d544fd52-1"})(["display:flex;justify-content:flex-end;margin-bottom:1.5rem;gap:0.75rem;@media (max-width:768px){justify-content:center;flex-wrap:wrap;margin-bottom:1.25rem;}"]),$=r.Ay.button.withConfig({componentId:"sc-d544fd52-2"})(["background:",';color:white;border:none;border-radius:25px;padding:10px 20px;font-size:0.95rem;font-weight:600;font-family:"Noto Sans KR",sans-serif;cursor:pointer;transition:all 0.3s ease;display:flex;align-items:center;gap:6px;box-shadow:0 3px 10px rgba(44,24,16,0.2);&:hover{background:',";transform:translateY(-1px);box-shadow:0 5px 15px rgba(44,24,16,0.3);}&:active{transform:translateY(0);}@media (max-width:768px){padding:8px 16px;font-size:0.9rem;}"],z.primary,z.primaryLight),K=r.Ay.div.withConfig({componentId:"sc-d544fd52-3"})(["display:grid;grid-template-columns:repeat(auto-fit,minmax(420px,1fr));gap:1.5rem;margin-top:1.5rem;align-items:start;@media (max-width:768px){grid-template-columns:1fr;gap:1.25rem;margin-top:1.25rem;}& > *{max-width:600px;justify-self:center;}"]),D=r.Ay.div.withConfig({componentId:"sc-d544fd52-4"})(["display:flex;align-items:center;justify-content:center;min-height:400px;font-size:1.2rem;color:",";"],z.text.medium),F=r.Ay.div.withConfig({componentId:"sc-d544fd52-5"})(["text-align:center;padding:3rem 2rem;color:",";background:white;border-radius:16px;border:2px dashed ",';font-family:"Noto Sans KR",sans-serif;h3{font-size:1.4rem;margin-bottom:0.75rem;color:',';font-family:"Noto Sans KR",sans-serif;font-weight:600;}p{font-size:0.95rem;line-height:1.5;font-family:"Noto Sans KR",sans-serif;}@media (max-width:768px){padding:2.5rem 1.5rem;h3{font-size:1.3rem;}p{font-size:0.9rem;}}'],z.text.light,z.primaryPale,z.text.medium),E=r.Ay.div.withConfig({componentId:"sc-d544fd52-6"})(["text-align:center;padding:2rem;color:#dc3545;background:#fff5f5;border-radius:12px;border:1px solid #f5c6cb;margin:2rem 0;"]);function P(e){let{initialPosts:t}=e,{accountStatus:i}=(0,s.A)(),r=(0,o.useRouter)(),[m,c]=(0,n.useState)(t),[p,f]=(0,n.useState)(!1),[x,g]=(0,n.useState)(null),[h,u]=(0,n.useState)(!1),[w,y]=(0,n.useState)(null),b="admin"===i;(0,n.useEffect)(()=>{0===t.length&&C()},[]),(0,n.useEffect)(()=>{b&&C()},[b]);let C=async()=>{try{f(!0),g(null);let e=b?await (0,d.$r)():await (0,d.CF)();console.log("Loaded blog posts:",e.map(e=>({id:e.id,title:e.title}))),c(e)}catch(e){console.error("Failed to fetch blog posts:",e),g("블로그 포스트를 불러오는데 실패했습니다.")}finally{f(!1)}},j=e=>{y(e),u(!0)},v=async e=>{try{f(!0),g(null),w?await (0,d.s2)(w.id,e):await (0,d.Fd)(e),await C(),u(!1),y(null)}catch(e){console.error("Failed to save blog post:",e),g("블로그 포스트 저장에 실패했습니다.")}finally{f(!1)}},A=async e=>{if(window.confirm("이 포스트를 삭제하시겠습니까?"))try{f(!0),await (0,d.m0)(e),await C()}catch(e){console.error("Failed to delete blog post:",e),g("블로그 포스트 삭제에 실패했습니다.")}finally{f(!1)}},k=e=>{console.log("Navigating to post:",{id:e.id,title:e.title}),r.push("/blog/".concat(e.id))};return h?(0,a.jsx)(l.c,{post:w,onSave:v,onCancel:()=>{u(!1),y(null)}}):(0,a.jsxs)(N,{children:[b&&(0,a.jsxs)(R,{children:[(0,a.jsx)($,{onClick:()=>{y(null),u(!0)},children:"새 포스트 작성"}),(0,a.jsx)($,{onClick:C,children:"새로고침"})]}),x&&(0,a.jsx)(E,{children:x}),p&&(0,a.jsx)(D,{children:"로딩 중..."}),!p&&0===m.length&&!x&&(0,a.jsxs)(F,{children:[(0,a.jsx)("h3",{children:"아직 블로그 포스트가 없습니다"}),(0,a.jsx)("p",{children:"첫 번째 포스트를 작성해보세요!"})]}),!p&&m.length>0&&(0,a.jsx)(K,{children:m.map(e=>(0,a.jsx)(S,{post:e,isAdmin:b,onClick:()=>k(e),onEdit:()=>j(e),onDelete:()=>A(e.id)},e.id))})]})}},79466:(e,t,i)=>{Promise.resolve().then(i.bind(i,4939))}},e=>{var t=t=>e(e.s=t);e.O(0,[992,888,262,432,238,441,964,358],()=>t(79466)),_N_E=e.O()}]);