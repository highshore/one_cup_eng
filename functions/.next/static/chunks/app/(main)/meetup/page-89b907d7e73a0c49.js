(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[982],{22987:(e,t,r)=>{"use strict";r.d(t,{MeetupClient:()=>H});var i=r(95155),o=r(12115),n=r(35695),a=r(43262),s=r(9932),d=r(24735),l=r(93035),c=r(64045),p=r(75768);let g=(0,a.i7)(["0%{box-shadow:0 2px 8px rgba(0,0,0,0.1);}50%{box-shadow:0 4px 20px rgba(76,175,80,0.2),0 2px 8px rgba(0,0,0,0.1);}100%{box-shadow:0 2px 8px rgba(0,0,0,0.1);}"]),h=a.Ay.div.withConfig({componentId:"sc-326bd702-0"})(["min-height:100vh;background-color:transparent;color:#333;"]),x=a.Ay.header.withConfig({componentId:"sc-326bd702-1"})(["background-color:transparent;padding:1rem;display:flex;align-items:center;justify-content:space-between;position:fixed;top:0;left:0;right:0;z-index:100;height:80px;@media (max-width:768px){height:60px;padding:0.75rem;}"]),m=a.Ay.button.withConfig({componentId:"sc-326bd702-2"})(["background:none;border:none;color:#333;font-size:1.5rem;cursor:pointer;padding:0.5rem;border-radius:50%;transition:background-color 0.2s;&:hover{background-color:rgba(0,0,0,0.1);}@media (max-width:768px){font-size:1.25rem;padding:0.375rem;}"]),u=a.Ay.h1.withConfig({componentId:"sc-326bd702-3"})(["color:#333;font-size:1.2rem;font-weight:600;margin:0;@media (max-width:768px){font-size:1rem;}"]),f=a.Ay.div.withConfig({componentId:"sc-326bd702-4"})(["background:",";border-radius:20px;margin:20px 0;cursor:pointer;transition:all 0.2s;box-shadow:0 2px 8px rgba(0,0,0,0.1);border:1px solid #e0e0e0;height:180px;aspect-ratio:5 / 3;position:relative;&:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,0.15);}@media (max-width:768px){margin:12px 0;border-radius:16px;}"],e=>e.$imageUrl?"linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url(".concat(e.$imageUrl,") center/cover"):"#212121"),b=a.Ay.div.withConfig({componentId:"sc-326bd702-5"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;padding:24px;height:100%;width:100%;position:absolute;top:0;left:0;@media (max-width:768px){padding:16px;}"]),w=a.Ay.div.withConfig({componentId:"sc-326bd702-6"})(["flex:1;color:white;"]),y=a.Ay.div.withConfig({componentId:"sc-326bd702-7"})(["font-size:1rem;font-weight:600;color:#c8a27a;margin-bottom:0.5rem;text-transform:uppercase;letter-spacing:0.5px;@media (max-width:768px){font-size:0.9rem;margin-bottom:0.375rem;}"]),v=a.Ay.h3.withConfig({componentId:"sc-326bd702-8"})(["font-size:24px;font-weight:700;color:white;margin:0;line-height:1.3;word-wrap:break-word;text-shadow:0 2px 4px rgba(0,0,0,0.5);@media (max-width:768px){font-size:20px;line-height:1.2;}"]),C=a.Ay.h2.withConfig({componentId:"sc-326bd702-9"})(["color:#333;font-size:1.4rem;font-weight:800;margin:3rem 0 1rem 0;@media (max-width:768px){font-size:1.3rem;margin:1.25rem 0 0.75rem 0;}"]),A=a.Ay.div.withConfig({componentId:"sc-326bd702-10"})(["background-color:white;border-radius:20px;padding:24px;margin:20px 0;cursor:pointer;transition:all 0.2s;box-shadow:0 2px 8px rgba(0,0,0,0.1);border:1px solid #e0e0e0;width:100%;opacity:",";"," &:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,0.15);opacity:",";}@media (max-width:768px){padding:16px;margin:12px 0;border-radius:16px;}"],e=>e.$isPast?.6:1,e=>e.$isClosest?(0,a.AH)(["animation:"," 3s ease-in-out infinite;border:1px solid rgba(76,175,80,0.3);"],g):"",e=>e.$isPast?.8:1),j=a.Ay.div.withConfig({componentId:"sc-326bd702-11"})(["display:flex;align-items:flex-start;gap:20px;@media (max-width:768px){gap:12px;}"]),k=a.Ay.div.withConfig({componentId:"sc-326bd702-12"})(["width:120px;height:120px;border-radius:20px;overflow:hidden;background-color:#000000;flex-shrink:0;display:flex;align-items:center;justify-content:center;filter:",";@media (max-width:768px){width:80px;height:80px;border-radius:12px;}"],e=>e.$isPast?"grayscale(50%)":"none"),I=a.Ay.img.withConfig({componentId:"sc-326bd702-13"})(["width:100%;height:100%;object-fit:contain;"]),D=a.Ay.div.withConfig({componentId:"sc-326bd702-14"})(["color:#ccc;font-size:2.5rem;@media (max-width:768px){font-size:1.5rem;}"]),E=a.Ay.div.withConfig({componentId:"sc-326bd702-15"})(["flex:1;display:flex;flex-direction:column;min-width:0;"]),z=a.Ay.h3.withConfig({componentId:"sc-326bd702-16"})(["color:",";font-size:18px;font-weight:700;margin:0 0 8px 0;line-height:1.3;word-wrap:break-word;@media (max-width:768px){font-size:15px;margin:0 0 6px 0;line-height:1.2;}"],e=>e.$isPast?"#999":"#333"),$=a.Ay.span.withConfig({componentId:"sc-326bd702-17"})(["color:",";font-weight:",";"],e=>e.$isUrgent?"#DC143C":"inherit",e=>e.$isUrgent?"bold":"inherit"),F=a.Ay.div.withConfig({componentId:"sc-326bd702-18"})(["display:flex;align-items:center;gap:8px;margin-bottom:8px;@media (max-width:768px){gap:6px;margin-bottom:4px;}"]),P=a.Ay.span.withConfig({componentId:"sc-326bd702-19"})(["color:",";flex-shrink:0;display:flex;align-items:center;@media (max-width:768px){}"],e=>e.$isPast?"#999":"#666"),S=a.Ay.span.withConfig({componentId:"sc-326bd702-20"})(["color:",";font-size:16px;letter-spacing:0;word-wrap:break-word;@media (max-width:768px){font-size:13px;}"],e=>e.$isPast?"#999":"#666"),T=a.Ay.div.withConfig({componentId:"sc-326bd702-21"})(["display:flex;justify-content:space-between;align-items:center;margin-top:8px;gap:8px;@media (max-width:768px){margin-top:4px;gap:6px;}"]),_=a.Ay.span.withConfig({componentId:"sc-326bd702-22"})(["display:inline-block;padding:8px 16px;font-size:14px;font-weight:700;color:#ffffff;background-color:",";border-radius:20px;text-align:center;min-width:80px;transition:all 0.2s ease;@media (max-width:768px){font-size:12px;padding:6px 12px;min-width:80px;}"],e=>e.$statusColor),U=a.Ay.div.withConfig({componentId:"sc-326bd702-23"})(["text-align:center;padding:2rem 1rem;color:#666;@media (max-width:768px){padding:1.5rem 0.75rem;font-size:14px;}"]),B=a.Ay.button.withConfig({componentId:"sc-326bd702-24"})(["display:block;margin:2rem auto 1rem auto;padding:0.75rem 1.5rem;background-color:#f5f5f5;border:1px solid #ddd;border-radius:25px;color:#666;font-size:14px;font-weight:600;cursor:pointer;transition:all 0.2s;min-width:100px;&:hover{background-color:#eeeeee;border-color:#bbb;transform:translateY(-1px);}&:disabled{opacity:0.5;cursor:not-allowed;transform:none;}@media (max-width:768px){padding:0.625rem 1.25rem;margin:1.5rem auto 0.75rem auto;font-size:13px;border-radius:20px;}"]),N=a.Ay.div.withConfig({componentId:"sc-326bd702-25"})(["text-align:center;padding:3rem 1rem;color:#666;@media (max-width:768px){padding:2rem 1rem;font-size:14px;}"]),H=()=>{let e=(0,n.useRouter)(),[t,r]=(0,o.useState)([]),[a,g]=(0,o.useState)([]),[H,G]=(0,o.useState)([]),[J,L]=(0,o.useState)(!0),[M,O]=(0,o.useState)(!1),[Y,Z]=(0,o.useState)(null),[R,Q]=(0,o.useState)(null),[V,q]=(0,o.useState)(!0),[K,W]=(0,o.useState)(null),X=(0,o.useRef)(null),ee=e=>new Date("".concat(e.date,"T").concat(e.time)),et=(0,o.useCallback)(e=>{let t=new Date,r=[],i=[];e.forEach(e=>{ee(e)>=t?r.push(e):i.push(e)}),r.sort((e,t)=>ee(e).getTime()-ee(t).getTime()),i.sort((e,t)=>ee(t).getTime()-ee(e).getTime()),g(r),G(i)},[]),er=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{e?(L(!0),r([]),Q(null),q(!0)):O(!0);let t=await (0,s.UZ)(e?void 0:null!=R?R:void 0);e?(r(t.events),et(t.events)):r(e=>{let r=[...e,...t.events];return et(r),r}),Q(t.lastDoc),q(null!==t.lastDoc&&t.events.length>0),Z(null)}catch(e){Z(e instanceof Error?e.message:"Failed to load events")}finally{L(!1),O(!1)}},[R,et]),ei=(0,o.useCallback)(()=>{!M&&V&&R&&er(!1)},[M,V,R,er]);(0,o.useEffect)(()=>{let e=new IntersectionObserver(e=>{e[0].isIntersecting&&V&&!M&&ei()},{threshold:.1,rootMargin:"100px"});return X.current&&e.observe(X.current),()=>{X.current&&e.unobserve(X.current)}},[V,M,ei]);let eo=(0,o.useCallback)(async()=>{try{let e=await (0,p.CF)();e.length>0&&W(e[0])}catch(e){console.error("Failed to load latest blog post:",e)}},[]);(0,o.useEffect)(()=>{er(!0),eo()},[]),(0,o.useEffect)(()=>{window.scrollTo(0,0)},[]);let en=t=>{e.push("/meetup/".concat(t))},ea=()=>{},es=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{countdownPrefix:o,eventTitle:n,isUrgent:a}=(0,d.z0)(e),s=(0,d.FQ)(e),p=s.isLocked,g=e.leaders.length+e.participants.length,h=t?"#757575":p?"full"===s.reason?"#ff4d4f":"#888":"#4CAF50";return(0,i.jsx)(A,{onClick:()=>en(e.id),$isPast:t,$isClosest:r,children:(0,i.jsxs)(j,{children:[(0,i.jsx)(k,{$isPast:t,children:e.image_urls&&e.image_urls.length>0?(0,i.jsx)(I,{src:e.image_urls[0],alt:e.title}):(0,i.jsx)(D,{children:"\uD83D\uDDBC️"})}),(0,i.jsxs)(E,{children:[(0,i.jsxs)(z,{$isPast:t,children:[o&&(0,i.jsx)($,{$isUrgent:a,children:o}),n]}),(0,i.jsxs)(F,{children:[(0,i.jsx)(P,{$isPast:t,children:(0,i.jsx)(c.ts,{width:"16px",height:"16px"})}),(0,i.jsx)(S,{$isPast:t,children:e.location_name})]}),(0,i.jsxs)(F,{children:[(0,i.jsx)(P,{$isPast:t,children:(0,i.jsx)(c.CT,{width:"16px",height:"16px"})}),(0,i.jsx)(S,{$isPast:t,children:(0,d.pd)(e)})]}),(0,i.jsxs)(T,{children:[(0,i.jsx)(l.Vy,{uids:[...e.leaders,...e.participants],maxAvatars:5,size:30,isPast:t,onAvatarClick:ea}),(0,i.jsxs)(_,{$statusColor:h,children:[(()=>{if(t)return"종료";if(!p)return"참가 가능";switch(s.reason){case"started":return"진행중";case"full":return"정원 마감";default:return"모집 종료"}})()," (",g,"/",e.max_participants,")"]})]})]})]})},e.id)};return(0,i.jsxs)(h,{children:[(0,i.jsxs)(x,{children:[(0,i.jsx)(m,{children:"❓"}),(0,i.jsx)(u,{children:"English Meetups"}),(0,i.jsx)(m,{children:"\uD83D\uDCF1"})]}),K?(0,i.jsx)(f,{$imageUrl:K.featuredImage,onClick:()=>{K&&e.push("/blog/".concat(K.id))},children:(0,i.jsx)(b,{children:(0,i.jsxs)(w,{children:[(0,i.jsx)(y,{children:"따끈따끈한 밋업 후기"}),(0,i.jsx)(v,{children:K.title})]})})}):null,J&&(0,i.jsx)(U,{children:"Loading events..."}),Y&&(0,i.jsxs)(N,{children:["Error loading events: ",Y]}),!J&&!Y&&(0,i.jsxs)(i.Fragment,{children:[a.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C,{children:"현재 모집 중 \uD83E\uDD73"}),a.map((e,t)=>es(e,!1,0===t))]}),H.length>0&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C,{children:"이전 밋업"}),H.map(e=>es(e,!0,!1))]}),V&&(0,i.jsx)(B,{ref:X,onClick:ei,disabled:M,children:M?"로딩 중...":"더 보기"}),0===a.length&&0===H.length&&!J&&(0,i.jsx)(N,{children:"No events found."})]})]})}},74400:(e,t,r)=>{Promise.resolve().then(r.bind(r,22987))},75768:(e,t,r)=>{"use strict";r.d(t,{$r:()=>l,CF:()=>d,Fd:()=>g,TB:()=>c,ZA:()=>p,m0:()=>x,s2:()=>h});var i=r(35317),o=r(22661);let n="blog_posts",a=e=>e.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-").trim(),s=e=>{var t,r,i;let o=e.data();return{id:e.id,title:o.title||"",content:o.content||"",excerpt:o.excerpt||"",createdAt:(null==(t=o.createdAt)?void 0:t.toDate())||new Date,updatedAt:(null==(r=o.updatedAt)?void 0:r.toDate())||new Date,publishedAt:(null==(i=o.publishedAt)?void 0:i.toDate())||null,status:o.status||"draft",slug:o.slug||"",featuredImage:o.featuredImage||"",tags:o.tags||[],views:o.views||0,likes:o.likes||0,likedBy:o.likedBy||[]}},d=async()=>{try{let e=(0,i.rJ)(o.db,n);return(await (0,i.GG)(e)).docs.map(s).filter(e=>"published"===e.status).sort((e,t)=>{let r=e.publishedAt||e.createdAt;return(t.publishedAt||t.createdAt).getTime()-r.getTime()})}catch(e){return console.error("Error fetching blog posts:",e),[]}},l=async()=>{try{let e=(0,i.rJ)(o.db,n);return(await (0,i.GG)(e)).docs.map(s).sort((e,t)=>t.updatedAt.getTime()-e.updatedAt.getTime())}catch(e){return console.error("Error fetching all blog posts:",e),[]}},c=async e=>{try{let t=(0,i.H9)(o.db,n,e),r=await (0,i.x7)(t);if(r.exists())return s(r);return null}catch(e){throw console.error("Error fetching blog post:",e),Error("Failed to fetch blog post")}},p=async e=>{try{let t=(0,i.H9)(o.db,n,e),r=await (0,i.x7)(t);if(!r.exists())return null;{let e=s(r);if("published"===e.status)return e;return null}}catch(e){throw console.error("Error fetching published blog post:",e),Error("Failed to fetch blog post")}},g=async e=>{try{console.log("Creating blog post with data:",e);let t=new Date,r=a(e.title||""),s={title:e.title||"",content:e.content||"",createdAt:i.Dc.fromDate(t),updatedAt:i.Dc.fromDate(t),publishedAt:"published"===e.status?i.Dc.fromDate(t):null,status:e.status||"draft",slug:r};e.excerpt&&(s.excerpt=e.excerpt),e.featuredImage&&(s.featuredImage=e.featuredImage),e.tags&&e.tags.length>0&&(s.tags=e.tags),console.log("Final blog post object:",s);let d=(0,i.rJ)(o.db,n),l=await (0,i.gS)(d,s);return console.log("Blog post created successfully with ID:",l.id),l.id}catch(e){throw console.error("Error creating blog post:",e),console.error("Error stack:",e instanceof Error?e.stack:"No stack"),Error("Failed to create blog post: "+(e instanceof Error?e.message:String(e)))}},h=async(e,t)=>{try{console.log("Updating blog post ID:",e,"with data:",t);let r=(0,i.H9)(o.db,n,e),s=new Date,d={updatedAt:i.Dc.fromDate(s)};if(void 0!==t.title&&(d.title=t.title,d.slug=a(t.title)),void 0!==t.content&&(d.content=t.content),void 0!==t.excerpt&&(d.excerpt=t.excerpt),void 0!==t.status&&(d.status=t.status),void 0!==t.featuredImage&&(d.featuredImage=t.featuredImage),void 0!==t.tags&&(d.tags=t.tags),"published"===t.status){let e=(await (0,i.x7)(r)).data();(null==e?void 0:e.publishedAt)||(d.publishedAt=i.Dc.fromDate(s))}console.log("Final update data:",d),await (0,i.mZ)(r,d),console.log("Blog post updated successfully")}catch(e){throw console.error("Error updating blog post:",e),console.error("Error stack:",e instanceof Error?e.stack:"No stack"),Error("Failed to update blog post: "+(e instanceof Error?e.message:String(e)))}},x=async e=>{try{let t=(0,i.H9)(o.db,n,e);await (0,i.kd)(t)}catch(e){throw console.error("Error deleting blog post:",e),Error("Failed to delete blog post")}}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,888,262,432,60,441,964,358],()=>t(74400)),_N_E=e.O()}]);