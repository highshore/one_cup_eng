"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{22661:(e,t,n)=>{n.d(t,{Cn:()=>u,IG:()=>p,db:()=>l,j2:()=>c});var r=n(23915),i=n(16203),o=n(35317),a=n(90858),s=n(81427);let d=(0,r.Wp)({apiKey:"AIzaSyBC62vsKGQqdgpyC9RugoHEfh9UcRi2SMA",authDomain:"one-cup-eng.firebaseapp.com",projectId:"one-cup-eng",storageBucket:"one-cup-eng.firebasestorage.app",messagingSenderId:"615807178262",appId:"1:615807178262:web:9a96a5f0d94ae628d74737"}),c=(0,i.xI)(d),l=(0,o.aU)(d),p=(0,a.c7)(d),u=(0,s.Uz)(d,"asia-northeast3")},35695:(e,t,n)=>{var r=n(18999);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}}),n.o(r,"useServerInsertedHTML")&&n.d(t,{useServerInsertedHTML:function(){return r.useServerInsertedHTML}})},62269:(e,t,n)=>{n.d(t,{A:()=>c,default:()=>l});var r=n(95155),i=n(12115),o=n(16203),a=n(22661),s=n(35317);let d=(0,i.createContext)({currentUser:null,isLoading:!0,hasActiveSubscription:null,accountStatus:null,logout:async()=>{}}),c=()=>(0,i.useContext)(d),l=e=>{let{children:t}=e,[n,c]=(0,i.useState)(null),[l,p]=(0,i.useState)(!0),[u,h]=(0,i.useState)(null),[x,m]=(0,i.useState)(null);(0,i.useEffect)(()=>(0,o.hg)(a.j2,async e=>{if(c(e),e)try{let t=(0,s.H9)(a.db,"users",e.uid),n=await (0,s.x7)(t);if(n.exists()){let e=n.data();h(e.hasActiveSubscription||!1),m(e.account_status||"user")}else h(!1),m("user")}catch(e){console.error("Error fetching user data:",e),h(!1),m("user")}else h(null),m(null);p(!1)}),[]);let g=async()=>{await (0,o.CI)(a.j2)};return(0,r.jsx)(d.Provider,{value:{currentUser:n,isLoading:l,hasActiveSubscription:u,accountStatus:x,logout:g},children:t})}},78886:(e,t,n)=>{n.d(t,{$s:()=>s,Pz:()=>a});var r=n(95155),i=n(12115);let o=(0,i.createContext)({isTransparent:!1,setIsTransparent:()=>{}}),a=()=>(0,i.useContext)(o),s=e=>{let{children:t}=e,[n,a]=(0,i.useState)(!1);return(0,r.jsx)(o.Provider,{value:{isTransparent:n,setIsTransparent:a},children:t})}},90246:(e,t,n)=>{n.d(t,{A:()=>$});var r=n(95155),i=n(6874),o=n.n(i),a=n(43262),s=n(12115),d=n(62269),c=n(78886);let l={primary:"#2C1810",primaryDark:"#1A0F0A",primaryPale:"#F5EBE6",accent:"#C8A27A",text:{dark:"#2C1810",medium:"#4A2F23",light:"#8B6B4F"},subscription:{active:"#00a000",inactive:"#808080"}},p=a.Ay.nav.withConfig({componentId:"sc-d92148a8-0"})(["background-color:",";height:60px;display:flex;justify-content:center;position:fixed;top:0;left:0;right:0;z-index:1000;box-shadow:",";transition:background-color 0.3s ease,box-shadow 0.3s ease;@media (max-width:768px){height:50px;}"],e=>e.$isTransparent?"transparent":"white",e=>e.$isTransparent?"none":"0 2px 10px rgba(0, 0, 0, 0.1)"),u=a.Ay.div.withConfig({componentId:"sc-d92148a8-1"})(["max-width:960px;width:100%;display:flex;align-items:center;justify-content:space-between;padding:0 1.5rem;@media (max-width:768px){padding:0 1rem;}"]),h=a.Ay.div.withConfig({componentId:"sc-d92148a8-2"})(["display:flex;align-items:center;@media (max-width:768px){position:absolute;left:50%;transform:translateX(-50%);}"]),x=(0,a.Ay)(o()).withConfig({componentId:"sc-d92148a8-3"})(["display:flex;align-items:center;text-decoration:none;"]),m=a.Ay.img.withConfig({componentId:"sc-d92148a8-4"})(["height:24px;@media (max-width:768px){height:22px;margin-right:6px;}"]),g=a.Ay.div.withConfig({componentId:"sc-d92148a8-5"})(["display:flex;gap:1.3rem;@media (max-width:768px){display:none;}"]),f=(0,a.Ay)(o()).withConfig({componentId:"sc-d92148a8-6"})(["color:",";text-decoration:none;font-size:0.95rem;font-weight:500;padding:0.4rem 0.3rem;transition:color 0.2s ease;&:hover{color:",";}"],e=>e.$isTransparent?"white":l.text.medium,e=>e.$isTransparent?l.primaryPale:l.primary),w=(0,a.Ay)(o()).withConfig({componentId:"sc-d92148a8-7"})(["background-color:",";color:white;padding:0.5rem 1rem;border-radius:20px;font-weight:600;font-size:0.95rem;text-decoration:none;transition:background-color 0.2s ease;&:hover{background-color:",";}@media (max-width:768px){display:none;}"],l.primary,l.primaryDark),b=a.Ay.button.withConfig({componentId:"sc-d92148a8-8"})(["display:none;background:none;border:none;cursor:pointer;padding:8px;z-index:1001;margin-left:-8px;color:",";transition:color 0.3s ease;@media (max-width:768px){display:flex;align-items:center;justify-content:center;width:40px;height:40px;}"],e=>e.$isTransparent?"white":l.primary),v=a.Ay.svg.withConfig({componentId:"sc-d92148a8-9"})(["width:40px;height:40px;"]),y=a.Ay.div.withConfig({componentId:"sc-d92148a8-10"})(["position:relative;display:inline-flex;vertical-align:middle;"]),j=(0,a.Ay)(o()).withConfig({componentId:"sc-d92148a8-11"})(["color:",";border:none;height:36px;width:36px;overflow:hidden;border-radius:50%;display:flex;align-items:center;justify-content:center;border:2px solid ",";transition:all 0.2s ease;&:hover{transform:scale(1.1);box-shadow:0 2px 8px rgba(0,0,0,0.15);}@media (max-width:768px){height:30px;width:30px;}"],l.primary,e=>!0===e.$isActiveSubscription?l.subscription.active:!1===e.$isActiveSubscription?l.subscription.inactive:l.accent),C=a.Ay.div.withConfig({componentId:"sc-d92148a8-12"})(["position:absolute;bottom:0px;right:0px;width:10px;height:10px;border-radius:50%;background-color:",";border:1.5px solid white;box-sizing:border-box;z-index:1;"],e=>e.$isActive?l.subscription.active:l.subscription.inactive),k=a.Ay.img.withConfig({componentId:"sc-d92148a8-13"})(["width:100%;height:100%;object-fit:cover;border-radius:50%;"]),A=a.Ay.div.withConfig({componentId:"sc-d92148a8-14"})(["display:none;will-change:transform;position:fixed;top:50px;left:0;right:0;z-index:999;max-height:calc(100vh - 50px);overflow-y:auto;transition:background-color 0.3s ease;@media (max-width:768px){display:flex;flex-direction:column;align-items:center;padding:1rem;gap:1rem;transform:translateY(0);background-color:",";box-shadow:",";pointer-events:",";}"],e=>{let{$isOpen:t}=e;return t?"white":"transparent"},e=>{let{$isOpen:t}=e;return t?"0 2px 10px rgba(0, 0, 0, 0.1)":"none"},e=>{let{$isOpen:t}=e;return t?"auto":"none"}),I=(0,a.Ay)(o()).withConfig({componentId:"sc-d92148a8-15"})(["padding:1.5rem 2rem;text-decoration:none;font-size:1.2rem;font-weight:500;text-align:center;width:100%;transition:color 0.3s ease,background-color 0.3s ease,border-color 0.3s ease;color:",";border-bottom:1px solid ",";&:hover{background-color:",";}pointer-events:",";"],e=>{let{$isOpen:t}=e;return t?l.text.medium:"transparent"},e=>{let{$isOpen:t}=e;return t?l.primaryPale:"transparent"},e=>{let{$isOpen:t}=e;return t?l.primaryPale:"transparent"},e=>{let{$isOpen:t}=e;return t?"auto":"none"}),S=(0,a.Ay)(o()).withConfig({componentId:"sc-d92148a8-16"})(["margin:2rem auto;width:80%;max-width:300px;padding:0.8rem 0;border-radius:20px;font-weight:600;text-decoration:none;text-align:center;transition:background-color 0.3s ease,color 0.3s ease;background-color:",";color:",";&:hover{background-color:",";}pointer-events:",";"],e=>{let{$isOpen:t}=e;return t?l.primary:"transparent"},e=>{let{$isOpen:t}=e;return t?"white":"transparent"},e=>{let{$isOpen:t}=e;return t?l.primaryDark:"transparent"},e=>{let{$isOpen:t}=e;return t?"auto":"none"});function $(e){let{variant:t="default"}=e,[n,i]=(0,s.useState)(!1),{currentUser:o,hasActiveSubscription:a,logout:l}=(0,d.A)(),{isTransparent:$}=(0,c.Pz)(),[P,T]=(0,s.useState)("/default_user.jpg"),L=(0,s.useRef)(null),E="home"===t&&$;(0,s.useEffect)(()=>{if(null==o?void 0:o.photoURL)T(o.photoURL);else{let e=localStorage.getItem("photoURL");e?T(e):T("/default_user.jpg")}},[o]);let _=()=>i(!1),z=async()=>{try{await l(),_()}catch(e){console.error("Failed to log out:",e)}};return(0,s.useEffect)(()=>{let e=e=>{L.current&&!L.current.contains(e.target)&&_()};return n?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[n]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{$isTransparent:E,children:(0,r.jsxs)(u,{children:[(0,r.jsx)(b,{className:"hamburger-btn",$isTransparent:E,onClick:()=>{i(!n)},children:n?(0,r.jsx)(v,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"})}):(0,r.jsx)(v,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}),(0,r.jsx)(h,{children:(0,r.jsx)(x,{href:"/",children:(0,r.jsx)(m,{src:E?"/images/logos/1cup_logo_new_white.svg":"/images/logos/1cup_logo_new.svg",alt:"1 Cup English Logo"})})}),(0,r.jsxs)(g,{children:[(0,r.jsx)(f,{href:"/shadow",$isTransparent:E,children:"쉐도잉"}),(0,r.jsx)(f,{href:"/meetup",$isTransparent:E,children:"밋업"}),(0,r.jsx)(f,{href:"/blog",$isTransparent:E,children:"블로그"})]}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"1.2rem",justifyContent:"flex-end"},children:o?(0,r.jsxs)(y,{children:[(0,r.jsx)(j,{href:"/profile",$isActiveSubscription:a,children:(0,r.jsx)(k,{src:P,alt:"사용자 프로필",onError:e=>{let t=e.target;t.onerror=null,t.src="/default_user.jpg"}})}),null!==a&&(0,r.jsx)(C,{$isActive:!!a})]}):(0,r.jsx)(w,{href:"/auth",children:"로그인 \xb7 가입"})})]})}),(0,r.jsxs)(A,{className:"mobile-menu",$isOpen:n,children:[(0,r.jsx)(I,{href:"/shadow",onClick:_,$isOpen:n,children:"쉐도잉"}),(0,r.jsx)(I,{href:"/meetup",onClick:_,$isOpen:n,children:"밋업"}),(0,r.jsx)(I,{href:"/blog",onClick:_,$isOpen:n,children:"블로그"}),!o&&(0,r.jsx)(S,{href:"/auth",onClick:_,$isOpen:n,children:"시작하기"}),o&&(0,r.jsx)(I,{href:"/profile",onClick:_,$isOpen:n,children:"내 프로필"}),o&&(0,r.jsx)(I,{href:"/logout",onClick:z,$isOpen:n,children:"로그아웃"})]})]})}}}]);