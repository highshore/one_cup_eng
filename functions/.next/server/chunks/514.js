"use strict";exports.id=514,exports.ids=[514],exports.modules={3507:(a,b,c)=>{c.d(b,{Ee:()=>f,FQ:()=>h,pd:()=>i,z0:()=>k});var d=c(75535);let e=a=>{let b;return{date:(b=a&&"function"==typeof a.toDate?a.toDate():a&&a.seconds?new Date(1e3*a.seconds):"string"==typeof a?new Date(a):new Date).toISOString().split("T")[0],time:b.toTimeString().slice(0,5)}},f=a=>{let b,c,d,f,g,h,{date:i,time:j}=e(a.date_time);return void 0!==a.location_name&&void 0!==a.latitude&&void 0!==a.longitude?(b=a.location_name,c=a.location_address,d=a.location_map_url,f=a.latitude,g=a.longitude,h=a.location_extra_info):a.location&&Array.isArray(a.location)&&a.location.length>=5?(b=a.location[0],c=a.location[1],d=a.location[2],f="number"==typeof a.location[3]?a.location[3]:0,g="number"==typeof a.location[4]?a.location[4]:0,h=a.location[5]||""):(b="N/A",c="N/A",d="",f=0,g=0,h=""),{id:a.id,title:a.title,date:i,time:j,description:a.description,location_name:b,location_address:c,location_map_url:d,latitude:f,longitude:g,location_extra_info:h,duration_minutes:a.duration_minutes,lockdown_minutes:a.lockdown_minutes,max_participants:a.max_participants,participants:a.participants||[],leaders:a.leaders||[],image_urls:a.image_urls||[],topics:a.topics||[],articles:a.articles||[]}};d.Dc.fromDate(new Date("2024-02-07T17:00:00+09:00")),d.Dc.fromDate(new Date("2024-01-15T19:00:00+09:00")),d.Dc.fromDate(new Date("2024-01-20T14:00:00+09:00")),d.Dc.fromDate(new Date("2024-01-25T18:30:00+09:00"));let g=a=>{let b=new Date(`${a.date}T${a.time}`);return new Date>=b},h=a=>{if(g(a))return{isLocked:!0,reason:"started"};if(a.participants.length+a.leaders.length>=a.max_participants)return{isLocked:!0,reason:"full"};if(a.lockdown_minutes>0){let b=new Date(new Date(`${a.date}T${a.time}`).getTime()-60*a.lockdown_minutes*1e3);if(new Date>=b)return{isLocked:!0,reason:"lockdown"}}return{isLocked:!1,reason:null}},i=a=>{let b=new Date(`${a.date}T${a.time}`),c=b.getFullYear(),d=b.getMonth()+1,e=b.getDate(),f=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"][b.getDay()],g=b.getHours(),h=b.getMinutes().toString().padStart(2,"0");return`${c}년 ${d}월 ${e}일 (${f}) ${g}:${h}`},j=a=>{let b=new Date,c=new Date(a.date),d=new Date(b.toISOString().split("T")[0]);return Math.ceil((c.getTime()-d.getTime())/864e5)},k=a=>{let b=j(a),c="",d=!1;return b>0?(c=`[D-${b}] `,d=b<=3):0===b?(c="[D-DAY] ",d=!0):c="",{countdownPrefix:c,eventTitle:a.title,isUrgent:d,daysUntil:b}}},14089:(a,b,c)=>{c.d(b,{CT:()=>g,Cy:()=>i,EO:()=>j,O4:()=>h,ts:()=>f});var d=c(60687);c(43210);let e="20px",f=({className:a,fillColor:b,width:c,height:f})=>(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:b||"currentColor",width:c||e,height:f||e,className:a,children:(0,d.jsx)("path",{fillRule:"evenodd",d:"m11.54 22.351.07.04.028.016a.76.76 0 0 0 .723 0l.028-.015.071-.041a16.975 16.975 0 0 0 1.144-.742 19.58 19.58 0 0 0 2.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 0 0-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 0 0 2.682 2.282 16.975 16.975 0 0 0 1.145.742ZM12 13.5a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z",clipRule:"evenodd"})}),g=({className:a,fillColor:b,width:c,height:f})=>(0,d.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:b||"currentColor",width:c||e,height:f||e,className:a,children:[(0,d.jsx)("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),(0,d.jsx)("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"})]}),h=({className:a,fillColor:b,width:c,height:f})=>(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:b||"currentColor",width:c||e,height:f||e,className:a,children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"})}),i=({className:a,fillColor:b,width:c,height:f})=>(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:b||"currentColor",width:c||e,height:f||e,className:a,children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M12 3.75a6.715 6.715 0 0 0-3.722 1.118.75.75 0 1 1-.828-1.25 8.25 8.25 0 0 1 12.8 6.883c0 3.014-.574 5.897-1.62 8.543a.75.75 0 0 1-1.395-.551A21.69 21.69 0 0 0 18.75 10.5 6.75 6.75 0 0 0 12 3.75ZM6.157 5.739a.75.75 0 0 1 .21 1.04A6.715 6.715 0 0 0 5.25 10.5c0 1.613-.463 3.12-1.265 4.393a.75.75 0 0 1-1.27-.8A6.715 6.715 0 0 0 3.75 10.5c0-1.68.503-3.246 1.367-4.55a.75.75 0 0 1 1.04-.211ZM12 7.5a3 3 0 0 0-3 3c0 3.1-1.176 5.927-3.105 8.056a.75.75 0 1 1-1.112-1.008A10.459 10.459 0 0 0 7.5 10.5a4.5 4.5 0 1 1 9 0c0 .547-.022 1.09-.067 1.626a.75.75 0 0 1-1.495-.123c.041-.495.062-.996.062-1.503a3 3 0 0 0-3-3Zm0 2.25a.75.75 0 0 1 .75.75c0 3.908-1.424 7.485-3.781 10.238a.75.75 0 0 1-1.14-.975A14.19 14.19 0 0 0 11.25 10.5a.75.75 0 0 1 .75-.75Zm3.239 5.183a.75.75 0 0 1 .515.927 19.417 19.417 0 0 1-2.585 5.544.75.75 0 0 1-1.243-.84 17.915 17.915 0 0 0 2.386-5.116.75.75 0 0 1 .927-.515Z",clipRule:"evenodd"})}),j=({className:a,fillColor:b,width:c,height:f})=>(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:b||"currentColor",width:c||e,height:f||e,className:a,children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"})})},40507:(a,b,c)=>{c.d(b,{gD:()=>h,l2:()=>g});var d=c(75535),e=c(83503);let f=new Map,g=async a=>{if(f.has(a))return f.get(a)||null;try{let b=(0,d.H9)(e.db,"users",a),c=await (0,d.x7)(b);if(c.exists()){let b=c.data(),d=b.photoURL||b.avatar,e=d&&""!==d.trim()?d:void 0,g={uid:a,displayName:b.displayName||b.name||`User ${a.substring(0,6)}`,photoURL:e,email:b.email,account_status:b.account_status,hasActiveSubscription:!0===b.hasActiveSubscription};return f.set(a,g),g}{console.warn(`User document not found in Firestore for UID: ${a}. Using fallback.`);let b={uid:a,displayName:`User ${a.substring(0,6)}`,photoURL:void 0,account_status:void 0,hasActiveSubscription:!1};return f.set(a,b),b}}catch(c){console.error(`Error fetching user profile for ${a} from Firestore:`,c);let b={uid:a,displayName:`User ${a.substring(0,6)}`,photoURL:void 0,account_status:void 0,hasActiveSubscription:!1};return f.set(a,b),b}},h=async a=>{try{let b=(0,d.H9)(e.db,"users",a),c=await (0,d.x7)(b);if(!c.exists())return console.warn(`User document not found for UID: ${a}`),!1;{let a=c.data();return!0===a.hasActiveSubscription}}catch(b){return console.error(`Error checking subscription status for ${a}:`,b),!1}}},59798:(a,b,c)=>{c.d(b,{Gi:()=>m,Pu:()=>l,UZ:()=>i,eF:()=>j,ge:()=>k});var d=c(75535),e=c(83503),f=c(3507);let g="meetup",h=5,i=async(a,b=h)=>{try{let c=(0,d.rJ)(e.db,g),h=(0,d.P)(c,(0,d.My)("date_time","desc"),(0,d.AB)(b));a&&(h=(0,d.P)(c,(0,d.My)("date_time","desc"),(0,d.HM)(a),(0,d.AB)(b)));let i=await (0,d.GG)(h),j=[],k=null;return i.forEach(a=>{let b=a.data(),c={id:a.id,...b};j.push((0,f.Ee)(c)),k=a}),{events:j,lastDoc:k}}catch(a){throw console.error("Error fetching meetup events:",a),a}},j=async()=>{try{let a=d.Dc.now(),b=(0,d.rJ)(e.db,g),c=(0,d.P)(b,(0,d._M)("date_time",">=",a),(0,d.My)("date_time","asc")),h=await (0,d.GG)(c),i=[];return h.forEach(a=>{let b=a.data(),c={id:a.id,...b};i.push((0,f.Ee)(c))}),i}catch(a){throw console.error("Error fetching upcoming meetup events:",a),a}},k=(a,b)=>{try{let c=(0,d.H9)(e.db,g,a);return(0,d.aQ)(c,a=>{if(a.exists()){let c=a.data(),d={id:a.id,...c};b((0,f.Ee)(d))}else b(null)},c=>{console.error(`Error in real-time subscription for event ${a}:`,c),b(null)})}catch(b){return console.error(`Error setting up real-time subscription for event ${a}:`,b),()=>{}}},l=async(a,b,c)=>{let f=(0,d.H9)(e.db,g,a);try{await (0,d.c4)(e.db,async a=>{let e=await a.get(f);if(!e.exists())throw Error("Event does not exist!");let g=e.data(),h=g.participants?.includes(b),i=g.leaders?.includes(b);if("participant"===c&&h||"leader"===c&&i)return void console.log(`User ${b} already in the event as ${c}.`);let j=(g.participants?.length||0)+(g.leaders?.length||0);if("participant"===c&&j>=g.max_participants)throw Error("Event is already full for participants.");let k={};"participant"===c?(k.participants=(0,d.hq)(b),i&&(k.leaders=(0,d.C3)(b))):(k.leaders=(0,d.hq)(b),h&&(k.participants=(0,d.C3)(b))),a.update(f,k)}),console.log(`User ${b} successfully joined event ${a} as ${c}.`)}catch(a){throw console.error("Error joining event:",a),a}},m=async(a,b)=>{let c=(0,d.H9)(e.db,g,a);try{await (0,d.c4)(e.db,async e=>{let f=await e.get(c);if(!f.exists())throw Error("Event does not exist!");let g=f.data(),h=g.participants?.includes(b),i=g.leaders?.includes(b);if(!h&&!i)return void console.log(`User ${b} is not part of event ${a}.`);let j={};h&&(j.participants=(0,d.C3)(b)),i&&(j.leaders=(0,d.C3)(b)),e.update(c,j)}),console.log(`User ${b} successfully canceled participation for event ${a}.`)}catch(a){throw console.error("Error canceling participation:",a),a}}},91133:(a,b,c)=>{c.d(b,{H8:()=>l,Vy:()=>m});var d=c(60687),e=c(43210),f=c(4529),g=c(40507);let h=f.Ay.div.withConfig({componentId:"sc-5269cd0e-0"})(["width:","px;height:","px;border-radius:50%;background-color:",";position:",";left:","px;border:2px solid white;display:flex;align-items:center;justify-content:center;cursor:",";transition:transform 0.2s;filter:",";overflow:hidden;&:hover{transform:",";}"],a=>a.$size,a=>a.$size,a=>a.$bgColor||"#e0e0e0",a=>void 0!==a.$index?"absolute":"relative",a=>void 0!==a.$index?a.$index*(.6*a.$size):0,a=>a.$isClickable?"pointer":"default",a=>a.$isPast?"grayscale(50%)":"none",a=>a.$isClickable?"scale(1.1)":"none"),i=f.Ay.img.withConfig({componentId:"sc-5269cd0e-1"})(["width:100%;height:100%;object-fit:cover;border-radius:50%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none;"]),j=f.Ay.div.withConfig({componentId:"sc-5269cd0e-2"})(["color:white;font-size:",";font-weight:600;display:flex;align-items:center;justify-content:center;"],a=>a.$size>30?"16px":"10px"),k=f.Ay.div.withConfig({componentId:"sc-5269cd0e-3"})(["width:","px;height:","px;border:2px solid #f3f3f3;border-top:2px solid #666;border-radius:50%;animation:spin 1s linear infinite;@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}"],a=>Math.min(.5*a.$size,16),a=>Math.min(.5*a.$size,16)),l=({uid:a,size:b=40,isLeader:c=!1,className:f,onClick:j,index:l,isPast:m=!1})=>{let[n,o]=(0,e.useState)(null),[p,q]=(0,e.useState)(!0),[r,s]=(0,e.useState)(!1);(0,e.useEffect)(()=>{let b=async()=>{try{q(!0),s(!1);let b=await (0,g.l2)(a);o(b)}catch(b){console.error(`Error loading user profile for ${a}:`,b)}finally{q(!1)}};a?b():q(!1)},[a]);let t=n?.displayName||`User ${a?a.substring(0,8):""}`,u=((a,b)=>{let c=b?["#9c27b0","#673ab7","#3f51b5"]:["#2196f3","#03a9f4","#00bcd4","#009688","#4caf50"],d=0;for(let b=0;b<a.length;b++)d=(d<<5)-d+a.charCodeAt(b)|0;let e=Math.abs(d)%c.length;return c[e]})(a||"",c),v=n?.photoURL&&""!==n.photoURL.trim(),w=v&&!r?n.photoURL:"/default_user.jpg";return(0,d.jsx)(h,{$size:b,$bgColor:u,$index:l,$isPast:m,$isClickable:!!j,className:f,onClick:j,children:p?(0,d.jsx)(k,{$size:b}):(0,d.jsx)(i,{src:w,alt:t,draggable:!1,onContextMenu:a=>a.preventDefault(),onDragStart:a=>a.preventDefault(),onError:v&&!r?()=>{s(!0)}:void 0})})},m=({uids:a,maxAvatars:b=5,size:c=22,isLeader:e=!1,isPast:f=!1,onAvatarClick:g})=>{let i=a.slice(0,b),k=a.length>b,m=a.length-b;return(0,d.jsxs)("div",{style:{position:"relative",height:`${c}px`,minWidth:`${i.length>0?i.length*c*.6+.4*c:c}px`},children:[i.map((a,b)=>(0,d.jsx)(l,{uid:a,size:c,isLeader:e,index:b,isPast:f,onClick:g?()=>g(a):void 0},a)),k&&(0,d.jsx)(h,{$size:c,$bgColor:"#f0f0f0",$index:i.length,$isPast:f,$isClickable:!1,children:(0,d.jsxs)(j,{$size:c,children:["+",m]})},"more-count")]})}}};